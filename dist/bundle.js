(()=>{"use strict";var e={44:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TIMEOUT_ms=void 0,t.TIMEOUT_ms=1e3},92:function(e,t,s){var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var n=Object.getOwnPropertyDescriptor(t,s);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,n)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteUserById=t.updateUser=t.getUserById=t.createUser=t.getUsers=void 0;const a=s(556),i=s(304),u=o(s(164));t.getUsers=async(e,t)=>{try{const e=(0,a.ArrayOfUsers)(await u.getUsers());(0,i.response)(t,{status:200,data:{users:e}})}catch(e){console.log("Error while getting users",e)}},t.createUser=async(e,t,s)=>{try{const e=await u.addUser(s);e?(0,i.response)(t,{status:201,data:{user:e}}):(0,i.response)(t,{status:400,data:{message:"Error while creating user"}})}catch(e){console.log("Error while creating user",e)}},t.getUserById=async(e,t)=>{const s=e.params?.id;if(s)if((0,i.isUUID)(s))try{if(s){const e=await u.getOneUser(s);e?(0,i.response)(t,{status:200,data:{user:e}}):(0,i.response)(t,{status:404,data:{message:`User with id ${s} NOT FOUND`}})}else(0,i.response)(t,{status:400,data:{message:"Invalid user id"}})}catch(e){console.log(`Error while getting on user with id: ${s}`,e)}else(0,i.response)(t,{status:400,data:{message:"Provided user ID is not UUID"}});else(0,i.response)(t,{status:400,data:{message:"No user ID provided"}})},t.updateUser=async(e,t,s)=>{const r=e.params?.id;if(r)if((0,i.isUUID)(r)){s={...s,id:r};try{const e=await u.updateUser(s);e?(0,i.response)(t,{status:200,data:{user:e}}):(0,i.response)(t,{status:404,data:{message:`User with id ${r} NOT FOUND`}})}catch(e){console.log("Error while updating user",e)}}else(0,i.response)(t,{status:400,data:{message:"Provided user ID is not UUID"}});else(0,i.response)(t,{status:400,data:{message:"No user ID provided"}})},t.deleteUserById=async(e,t)=>{const s=e.params?.id;if(s)if((0,i.isUUID)(s))try{const e=await u.deleteUser(s);e?(0,i.response)(t,{status:204,data:{message:`User with id ${e.id} was deleted`}}):(0,i.response)(t,{status:404,data:{message:`User with id ${s} NOT FOUND`}})}catch(e){console.log(`Error while getting on user with id: ${s}`,e)}else(0,i.response)(t,{status:400,data:{message:"Provided user ID is not UUID"}});else(0,i.response)(t,{status:400,data:{message:"No user ID provided"}})}},996:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UsersDB=void 0;const r=s(556),n=s(872),o=s(44),a={id:"0a7bd231-3908-4673-ab79-40c4deecfe99",username:"Alex",age:33,hobbies:["hiking","drinking"]};class i{constructor(){if(i._instance)return i._instance;this.usersData=[a],i._instance=this}static getInstance(){return this._instance}get users(){return this.usersData}set users(e){this.usersData=e}getUserById(e){return new Promise(((t,s)=>{setTimeout((()=>{let s;try{s=(0,r.ObjectUser)(this.users.find((t=>t.id===e))),t(s)}catch(e){t(null)}}),o.TIMEOUT_ms)}))}addNewUser(e){return new Promise(((t,s)=>{setTimeout((()=>{const s=(0,n.v4)();if(this.users.findIndex((e=>e.id===s))>-1)throw t(null),Error("Error in DB when creating new user");const r={id:s,...e};this.users.push(r),t(r)}),o.TIMEOUT_ms)}))}updateUser(e){return new Promise(((t,s)=>{setTimeout((()=>{const s=this.users.find((t=>t.id===e.id));if(s){const r={...s,...e};this.users=this.users.map((t=>t.id===e.id?r:t)),t(r)}else t(null)}),o.TIMEOUT_ms)}))}deleteUserById(e){return new Promise(((t,s)=>{setTimeout((()=>{let s;try{s=(0,r.ObjectUser)(this.users.find((t=>t.id===e))),s&&(this.users=this.users.filter((t=>t.id!==e)),t(s)),t(null)}catch(e){t(null)}}),o.TIMEOUT_ms)}))}}t.UsersDB=i},720:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(s(136)),o=r(s(716)),a=s(20),i=s(380),u=process.env.PORT||4e3,d=n.default.createServer(((e,t)=>{const s=o.default.parse(e.url||"",!0),r=s.query||"",n=s.pathname||"",a=e.method?.toUpperCase()||"";let u=i.routes[n]&&i.routes[n][a];const d=e;if(!u){const e=Object.keys(i.routes).filter((e=>e.includes(":"))).find((e=>{const t=new RegExp(`^${e.replace(/:[^/]+/g,"([^/]+)")}$`);return console.log({regex:t}),t.test(n)}));if(console.log({matchedKey:e}),e){const t=new RegExp(`^${e.replace(/:[^/]+/g,"([^/]+)")}$`),s=t.exec(n)?.slice(1),r=e?.match(/:[^/]+/g)?.map((e=>e.substring(1)));if(r){const e=s?.reduce(((e,t,s)=>({...e,[r[s]]:t})),{});console.log(e),d.params=e}u=i.routes[e][a]}}u||(u=i.routes.notFound.resp),d.query={};for(const e in r)d.query[e]=r[e];u(d,t)}));d.on("request",a.loggerMiddleware),d.listen(u,(()=>console.log(`Server is listening on port ${u}`)))},20:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.loggerMiddleware=void 0,t.loggerMiddleware=(e,t)=>{console.log(`${e.method} ${e.url}`)}},380:function(e,t,s){var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var n=Object.getOwnPropertyDescriptor(t,s);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,n)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.routes=void 0;const a=s(304),i=o(s(92)),u=s(428);t.routes={"/":{GET:(e,t)=>{(0,a.response)(t,{status:200,data:{message:"To run Node.js CRUD API path to /api"}})}},"/api":{GET:(e,t)=>{(0,a.response)(t,{status:200,data:{message:"Running Node.js CRUD API"}})}},"/api/users":{GET:i.getUsers,POST:(e,t)=>(0,u.validateUserData)(e,t,i.createUser)},"/api/users/:id":{GET:i.getUserById,PUT:(e,t)=>(0,u.validateUserData)(e,t,i.updateUser),DELETE:i.deleteUserById},notFound:{resp:(e,t)=>{(0,a.response)(t,{status:404,data:{message:"Requested resource not found!"}})}}}},164:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteUser=t.updateUser=t.getOneUser=t.addUser=t.getUsers=void 0;const r=new(s(996).UsersDB);t.getUsers=()=>new Promise(((e,t)=>{setTimeout((()=>{const t=r.users;e(t)}),1e3)})),t.addUser=async e=>await r.addNewUser(e),t.getOneUser=async e=>await r.getUserById(e),t.updateUser=async e=>await r.updateUser(e),t.deleteUser=async e=>await r.deleteUserById(e)},556:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayOfUsers=t.ObjectNewUser=t.ObjectUser=void 0;const s=e=>{if("string"!=typeof e)throw new Error(`${e} is not of type string`);return e},r=e=>{if("number"!=typeof e)throw new Error(`${e} is not of type number`);return e},n=e=>t=>{if(null===t||"object"!=typeof t)throw new Error(`${t} is not  of type ${typeof e}`);const s={};for(const r in e)s[r]=e[r](t[r]);return s},o=e=>t=>{if(!Array.isArray(t))throw new Error(`${t} is not of type ${typeof e}`);return t.map(e)};t.ObjectUser=n({id:s,username:s,age:r,hobbies:o(s)}),t.ObjectNewUser=n({username:s,age:r,hobbies:o(s)}),t.ArrayOfUsers=o(t.ObjectUser)},304:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isUUID=t.wait=t.getPostBodyAsync=t.response=void 0,t.response=function(e,t){console.log("RESPONSE RUN",t.status),e.statusCode=t.status,e.setHeader("Content-Type","application/json"),e.write(JSON.stringify(t.data)),e.end()},t.getPostBodyAsync=e=>new Promise(((t,s)=>{let r="";e.on("data",(e=>{r+=e})),e.on("end",(()=>{try{r=r?JSON.parse(r):{},t(r)}catch(e){s(e)}}))})),t.wait=e=>new Promise((t=>setTimeout(t,e))),t.isUUID=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)},428:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateUserData=void 0;const r=s(556),n=s(304),o=s(304);t.validateUserData=async(e,t,s)=>{try{const o=await(0,n.getPostBodyAsync)(e),a=e.method?.toUpperCase(),i=["username","age","hobbies"],u=Object.keys(o);if("PUT"===a&&u.some((e=>i.some((t=>t===e)))))return void s(e,t,o);s(e,t,(0,r.ObjectNewUser)(o))}catch(e){console.log(e),e instanceof Error?(0,o.response)(t,{status:400,data:{message:e.message}}):(0,o.response)(t,{status:400,data:{message:"User data validation error - check fields"}})}}},872:(e,t,s)=>{s.r(t),s.d(t,{NIL:()=>I,parse:()=>m,stringify:()=>f,v1:()=>h,v3:()=>w,v4:()=>O,v5:()=>_,validate:()=>d,version:()=>D});const r=require("crypto");var n=s.n(r);const o=new Uint8Array(256);let a=o.length;function i(){return a>o.length-16&&(n().randomFillSync(o),a=0),o.slice(a,a+=16)}const u=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,d=function(e){return"string"==typeof e&&u.test(e)},c=[];for(let e=0;e<256;++e)c.push((e+256).toString(16).slice(1));function l(e,t=0){return c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]}const f=function(e,t=0){const s=l(e,t);if(!d(s))throw TypeError("Stringified UUID is invalid");return s};let p,g,U=0,y=0;const h=function(e,t,s){let r=t&&s||0;const n=t||new Array(16);let o=(e=e||{}).node||p,a=void 0!==e.clockseq?e.clockseq:g;if(null==o||null==a){const t=e.random||(e.rng||i)();null==o&&(o=p=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==a&&(a=g=16383&(t[6]<<8|t[7]))}let u=void 0!==e.msecs?e.msecs:Date.now(),d=void 0!==e.nsecs?e.nsecs:y+1;const c=u-U+(d-y)/1e4;if(c<0&&void 0===e.clockseq&&(a=a+1&16383),(c<0||u>U)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");U=u,y=d,g=a,u+=122192928e5;const f=(1e4*(268435455&u)+d)%4294967296;n[r++]=f>>>24&255,n[r++]=f>>>16&255,n[r++]=f>>>8&255,n[r++]=255&f;const h=u/4294967296*1e4&268435455;n[r++]=h>>>8&255,n[r++]=255&h,n[r++]=h>>>24&15|16,n[r++]=h>>>16&255,n[r++]=a>>>8|128,n[r++]=255&a;for(let e=0;e<6;++e)n[r+e]=o[e];return t||l(n)},m=function(e){if(!d(e))throw TypeError("Invalid UUID");let t;const s=new Uint8Array(16);return s[0]=(t=parseInt(e.slice(0,8),16))>>>24,s[1]=t>>>16&255,s[2]=t>>>8&255,s[3]=255&t,s[4]=(t=parseInt(e.slice(9,13),16))>>>8,s[5]=255&t,s[6]=(t=parseInt(e.slice(14,18),16))>>>8,s[7]=255&t,s[8]=(t=parseInt(e.slice(19,23),16))>>>8,s[9]=255&t,s[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,s[11]=t/4294967296&255,s[12]=t>>>24&255,s[13]=t>>>16&255,s[14]=t>>>8&255,s[15]=255&t,s};function v(e,t,s){function r(e,r,n,o){var a;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let s=0;s<e.length;++s)t.push(e.charCodeAt(s));return t}(e)),"string"==typeof r&&(r=m(r)),16!==(null===(a=r)||void 0===a?void 0:a.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let i=new Uint8Array(16+e.length);if(i.set(r),i.set(e,r.length),i=s(i),i[6]=15&i[6]|t,i[8]=63&i[8]|128,n){o=o||0;for(let e=0;e<16;++e)n[o+e]=i[e];return n}return l(i)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}const w=v("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),n().createHash("md5").update(e).digest()})),b={randomUUID:n().randomUUID},O=function(e,t,s){if(b.randomUUID&&!t&&!e)return b.randomUUID();const r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){s=s||0;for(let e=0;e<16;++e)t[s+e]=r[e];return t}return l(r)},_=v("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),n().createHash("sha1").update(e).digest()})),I="00000000-0000-0000-0000-000000000000",D=function(e){if(!d(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},136:e=>{e.exports=require("http")},716:e=>{e.exports=require("url")}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,s),o.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s(720)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiIwR0FBYSxFQUFBQSxXQUFhLEcseXhCQ0ExQixlQU9BLFNBQ0EsWUFHYSxFQUFBQyxTQUFXQyxNQUFPQyxFQUFzQkMsS0FDbkQsSUFDRSxNQUFNQyxHQUFnQixJQUFBQyxvQkFBbUJDLEVBQVlOLGFBQ3JELElBQUFPLFVBQVNKLEVBQUssQ0FBRUssT0FBUSxJQUFLQyxLQUFNLENBQUVMLFVBQ3ZDLENBQUUsTUFBT00sR0FDUEMsUUFBUUMsSUFBSSw0QkFBNkJGLEVBQzNDLEdBSVcsRUFBQUcsV0FBYVosTUFDeEJDLEVBQ0FDLEVBQ0FXLEtBRUEsSUFDRSxNQUFNQyxRQUFvQlQsRUFBWVUsUUFBUUYsR0FDMUNDLEdBQ0YsSUFBQVIsVUFBU0osRUFBSyxDQUFFSyxPQUFRLElBQUtDLEtBQU0sQ0FBRUssS0FBTUMsTUFFM0MsSUFBQVIsVUFBU0osRUFBSyxDQUNaSyxPQUFRLElBQ1JDLEtBQU0sQ0FBRVEsUUFBUyw4QkFHdkIsQ0FBRSxNQUFPUCxHQUNQQyxRQUFRQyxJQUFJLDRCQUE2QkYsRUFDM0MsR0FJVyxFQUFBUSxZQUFjakIsTUFDekJDLEVBQ0FDLEtBRUEsTUFBTWdCLEVBQVNqQixFQUFJa0IsUUFBUUMsR0FDM0IsR0FBS0YsRUFNRSxJQUFLLElBQUFHLFFBQU9ILEdBUW5CLElBQ0UsR0FBSUEsRUFBUSxDQUNWLE1BQU1MLFFBQWFSLEVBQVlpQixXQUFXSixHQUN0Q0wsR0FDRixJQUFBUCxVQUFTSixFQUFLLENBQUVLLE9BQVEsSUFBS0MsS0FBTSxDQUFFSyxXQUVyQyxJQUFBUCxVQUFTSixFQUFLLENBQ1pLLE9BQVEsSUFDUkMsS0FBTSxDQUFFUSxRQUFTLGdCQUFnQkUsZ0JBR3ZDLE1BQ0UsSUFBQVosVUFBU0osRUFBSyxDQUNaSyxPQUFRLElBQ1JDLEtBQU0sQ0FBRVEsUUFBUyxvQkFHdkIsQ0FBRSxNQUFPUCxHQUNQQyxRQUFRQyxJQUFJLHdDQUF3Q08sSUFBVVQsRUFDaEUsTUExQkUsSUFBQUgsVUFBU0osRUFBSyxDQUNaSyxPQUFRLElBQ1JDLEtBQU0sQ0FBRVEsUUFBUyx1Q0FSbkIsSUFBQVYsVUFBU0osRUFBSyxDQUNaSyxPQUFRLElBQ1JDLEtBQU0sQ0FBRVEsUUFBUyx3QkE4QnJCLEVBSVcsRUFBQU8sV0FBYXZCLE1BQ3hCQyxFQUNBQyxFQUNBVyxLQUVBLE1BQU1LLEVBQVNqQixFQUFJa0IsUUFBUUMsR0FDM0IsR0FBS0YsRUFNRSxJQUFLLElBQUFHLFFBQU9ILEdBQVosQ0FRUEwsRUFBTyxJQUFLQSxFQUFNTyxHQUFJRixHQUV0QixJQUNFLE1BQU1NLFFBQW9CbkIsRUFBWWtCLFdBQVdWLEdBQzdDVyxHQUNGLElBQUFsQixVQUFTSixFQUFLLENBQUVLLE9BQVEsSUFBS0MsS0FBTSxDQUFFSyxLQUFNVyxNQUUzQyxJQUFBbEIsVUFBU0osRUFBSyxDQUNaSyxPQUFRLElBQ1JDLEtBQU0sQ0FBRVEsUUFBUyxnQkFBZ0JFLGdCQUd2QyxDQUFFLE1BQU9ULEdBQ1BDLFFBQVFDLElBQUksNEJBQTZCRixFQUMzQyxDQWhCQSxNQUxFLElBQUFILFVBQVNKLEVBQUssQ0FDWkssT0FBUSxJQUNSQyxLQUFNLENBQUVRLFFBQVMsdUNBUm5CLElBQUFWLFVBQVNKLEVBQUssQ0FDWkssT0FBUSxJQUNSQyxLQUFNLENBQUVRLFFBQVMsd0JBeUJyQixFQUlXLEVBQUFTLGVBQWlCekIsTUFDNUJDLEVBQ0FDLEtBRUEsTUFBTWdCLEVBQVNqQixFQUFJa0IsUUFBUUMsR0FDM0IsR0FBS0YsRUFNRSxJQUFLLElBQUFHLFFBQU9ILEdBUW5CLElBQ0UsTUFBTUwsUUFBYVIsRUFBWXFCLFdBQVdSLEdBQ3RDTCxHQUNGLElBQUFQLFVBQVNKLEVBQUssQ0FDWkssT0FBUSxJQUNSQyxLQUFNLENBQUVRLFFBQVMsZ0JBQWdCSCxFQUFLTyxxQkFHeEMsSUFBQWQsVUFBU0osRUFBSyxDQUNaSyxPQUFRLElBQ1JDLEtBQU0sQ0FBRVEsUUFBUyxnQkFBZ0JFLGdCQUd2QyxDQUFFLE1BQU9ULEdBQ1BDLFFBQVFDLElBQUksd0NBQXdDTyxJQUFVVCxFQUNoRSxNQXRCRSxJQUFBSCxVQUFTSixFQUFLLENBQ1pLLE9BQVEsSUFDUkMsS0FBTSxDQUFFUSxRQUFTLHVDQVJuQixJQUFBVixVQUFTSixFQUFLLENBQ1pLLE9BQVEsSUFDUkMsS0FBTSxDQUFFUSxRQUFTLHdCQTBCckIsQyxrRkM1SkYsZUFDQSxTQUVBLFFBRU1XLEVBQWMsQ0FDbEJQLEdBQUksdUNBQ0pRLFNBQVUsT0FDVkMsSUFBSyxHQUNMQyxRQUFTLENBQUMsU0FBVSxhQUd0QixNQUFhQyxFQUlYLFdBQUFDLEdBQ0UsR0FBSUQsRUFBUUUsVUFDVixPQUFPRixFQUFRRSxVQUVqQkMsS0FBS0MsVUFBWSxDQUFDUixHQUNsQkksRUFBUUUsVUFBWUMsSUFDdEIsQ0FFQSxrQkFBT0UsR0FDTCxPQUFPRixLQUFLRCxTQUNkLENBRUEsU0FBSTlCLEdBQ0YsT0FBTytCLEtBQUtDLFNBQ2QsQ0FFQSxTQUFJaEMsQ0FBTWtDLEdBQ1JILEtBQUtDLFVBQVlFLENBQ25CLENBRUEsV0FBQXBCLENBQVlHLEdBQ1YsT0FBTyxJQUFJa0IsU0FBUSxDQUFDQyxFQUFTQyxLQUMzQkMsWUFBVyxLQUNULElBQUk1QixFQUNKLElBQ0VBLEdBQU8sSUFBQTZCLFlBQVdSLEtBQUsvQixNQUFNd0MsTUFBTTlCLEdBQVNBLEVBQUtPLEtBQU9BLEtBQ3hEbUIsRUFBUTFCLEVBQ1YsQ0FBRSxNQUFPSixHQUNQOEIsRUFBUSxLQUNWLElBQ0MsRUFBQXpDLFdBQVcsR0FFbEIsQ0FFQSxVQUFBOEMsQ0FBVy9CLEdBQ1QsT0FBTyxJQUFJeUIsU0FBUSxDQUFDQyxFQUFTQyxLQUMzQkMsWUFBVyxLQUNULE1BQU12QixHQUFTLFVBQ2YsR0FBSWdCLEtBQUsvQixNQUFNMEMsV0FBV2hDLEdBQVNBLEVBQUtPLEtBQU9GLEtBQVcsRUFFeEQsTUFEQXFCLEVBQVEsTUFDRk8sTUFBTSxzQ0FFZCxNQUFNQyxFQUFVLENBQUUzQixHQUFJRixLQUFXTCxHQUNqQ3FCLEtBQUsvQixNQUFNNkMsS0FBS0QsR0FDaEJSLEVBQVFRLEVBQVEsR0FDZixFQUFBakQsV0FBVyxHQUVsQixDQUVBLFVBQUF5QixDQUFXMEIsR0FDVCxPQUFPLElBQUlYLFNBQVEsQ0FBQ0MsRUFBU0MsS0FDM0JDLFlBQVcsS0FDVCxNQUFNUyxFQUFlaEIsS0FBSy9CLE1BQU13QyxNQUFNUSxHQUFNQSxFQUFFL0IsS0FBTzZCLEVBQVM3QixLQUM5RCxHQUFLOEIsRUFFRSxDQUNMLE1BQU0xQixFQUFvQixJQUFLMEIsS0FBaUJELEdBRWhEZixLQUFLL0IsTUFBUStCLEtBQUsvQixNQUFNaUQsS0FBS3ZDLEdBQzNCQSxFQUFLTyxLQUFPNkIsRUFBUzdCLEdBQUtJLEVBQWNYLElBRTFDMEIsRUFBUWYsRUFDVixNQVJFZSxFQUFRLEtBUVYsR0FDQyxFQUFBekMsV0FBVyxHQUVsQixDQUVBLGNBQUEyQixDQUFlTCxHQUNiLE9BQU8sSUFBSWtCLFNBQVEsQ0FBQ0MsRUFBU0MsS0FDM0JDLFlBQVcsS0FDVCxJQUFJNUIsRUFDSixJQUNFQSxHQUFPLElBQUE2QixZQUFXUixLQUFLL0IsTUFBTXdDLE1BQU05QixHQUFTQSxFQUFLTyxLQUFPQSxLQUNwRFAsSUFDRnFCLEtBQUsvQixNQUFRK0IsS0FBSy9CLE1BQU1rRCxRQUFReEMsR0FBU0EsRUFBS08sS0FBT0EsSUFDckRtQixFQUFRMUIsSUFHVjBCLEVBQVEsS0FDVixDQUFFLE1BQU85QixHQUNQOEIsRUFBUSxLQUNWLElBQ0MsRUFBQXpDLFdBQVcsR0FFbEIsRUF4RkYsVywySkNaQSxrQkFDQSxZQUNBLFFBQ0EsU0FHTXdELEVBQU9DLFFBQVFDLElBQUlGLE1BQVEsSUFFM0JHLEVBQVMsVUFBS0MsY0FBYSxDQUFDekQsRUFBS0MsS0FDckMsTUFBTXlELEVBQVksVUFBSUMsTUFBTTNELEVBQUk0RCxLQUFPLElBQUksR0FDckNDLEVBQVFILEVBQVVHLE9BQVMsR0FDM0JDLEVBQU9KLEVBQVVLLFVBQVksR0FDN0JDLEVBQVNoRSxFQUFJZ0UsUUFBUUMsZUFBaUIsR0FFNUMsSUFBSUMsRUFBVSxFQUFBQyxPQUFPTCxJQUFTLEVBQUFLLE9BQU9MLEdBQU1FLEdBQzNDLE1BQU1JLEVBQXdCcEUsRUFHOUIsSUFBS2tFLEVBQVMsQ0FDWixNQUdNRyxFQUhtQkMsT0FBT0MsS0FBSyxFQUFBSixRQUFRZixRQUFRb0IsR0FDbkRBLEVBQUlDLFNBQVMsT0FFcUIvQixNQUFNOEIsSUFFeEMsTUFBTUUsRUFBUSxJQUFJQyxPQUFPLElBQUlILEVBQUlJLFFBQVEsVUFBVyxlQUVwRCxPQURBbkUsUUFBUUMsSUFBSSxDQUFFZ0UsVUFDUEEsRUFBTUcsS0FBS2YsRUFBSyxJQUt6QixHQUZBckQsUUFBUUMsSUFBSSxDQUFFMkQsZUFFVkEsRUFBWSxDQUVkLE1BQU1LLEVBQVEsSUFBSUMsT0FBTyxJQUFJTixFQUFXTyxRQUFRLFVBQVcsZUFFckRFLEVBQWdCSixFQUFNSyxLQUFLakIsSUFBT2tCLE1BQU0sR0FFeENDLEVBQVlaLEdBQ2RhLE1BQU0sWUFDTi9CLEtBQUtxQixHQUFRQSxFQUFJVyxVQUFVLEtBRS9CLEdBQUlGLEVBQVcsQ0FDYixNQUFNL0QsRUFBUzRELEdBQWVNLFFBQzVCLENBQUNDLEVBQUtDLEVBQUtDLEtBQU0sSUFBTUYsRUFBSyxDQUFDSixFQUFVTSxJQUFLRCxLQUM1QyxDQUFDLEdBRUg3RSxRQUFRQyxJQUFJUSxHQUNaa0QsRUFBS2xELE9BQVNBLENBQ2hCLENBRUFnRCxFQUFVLEVBQUFDLE9BQU9FLEdBQVlMLEVBQy9CLENBQ0YsQ0FFS0UsSUFDSEEsRUFBVSxFQUFBQyxPQUFPcUIsU0FBU0MsTUFHNUJyQixFQUFLUCxNQUFRLENBQUMsRUFDZCxJQUFLLE1BQU1XLEtBQU9YLEVBQ2hCTyxFQUFLUCxNQUFNVyxHQUFPWCxFQUFNVyxHQUcxQk4sRUFBUUUsRUFBTW5FLEVBQUksSUFHcEJ1RCxFQUFPa0MsR0FBRyxVQUFXLEVBQUFDLGtCQUVyQm5DLEVBQU9vQyxPQUFPdkMsR0FBTSxJQUFNNUMsUUFBUUMsSUFBSSwrQkFBK0IyQyxNLHdGQ3BFeEQsRUFBQXNDLGlCQUFtQixDQUFDM0YsRUFBY0MsS0FDN0NRLFFBQVFDLElBQUksR0FBR1YsRUFBSWdFLFVBQVVoRSxFQUFJNEQsTUFBTSxDLCt0QkNBekMsZUFFQSxXQUNBLFNBUWEsRUFBQU8sT0FBcUIsQ0FDaEMsSUFBSyxDQUNIMEIsSUFBSyxDQUFDekIsRUFBdUJuRSxNQUMzQixJQUFBSSxVQUFTSixFQUFLLENBQ1pLLE9BQVEsSUFDUkMsS0FBTSxDQUFFUSxRQUFTLHlDQUNqQixHQUlOLE9BQVEsQ0FDTjhFLElBQUssQ0FBQ3pCLEVBQXVCbkUsTUFDM0IsSUFBQUksVUFBU0osRUFBSyxDQUNaSyxPQUFRLElBQ1JDLEtBQU0sQ0FBRVEsUUFBUyw2QkFDakIsR0FJTixhQUFjLENBQ1o4RSxJQUFLQyxFQUFlaEcsU0FDcEJpRyxLQUFNLENBQUMvRixFQUFzQkMsS0FDM0IsSUFBQStGLGtCQUFpQmhHLEVBQUtDLEVBQUs2RixFQUFlbkYsYUFHOUMsaUJBQWtCLENBQ2hCa0YsSUFBS0MsRUFBZTlFLFlBQ3BCaUYsSUFBSyxDQUFDakcsRUFBc0JDLEtBQzFCLElBQUErRixrQkFBaUJoRyxFQUFLQyxFQUFLNkYsRUFBZXhFLFlBQzVDNEUsT0FBUUosRUFBZXRFLGdCQUd6QmdFLFNBQVUsQ0FDUkMsS0FBTSxDQUFDckIsRUFBNEJuRSxNQUNqQyxJQUFBSSxVQUFTSixFQUFLLENBQ1pLLE9BQVEsSUFDUkMsS0FBTSxDQUFFUSxRQUFTLGtDQUNqQixHLG9JQ2pEUixNQUdNb0YsRUFBSyxJQUhYLE9BR2VyRSxTQUVGLEVBQUFoQyxTQUFXLElBQ2YsSUFBSXVDLFNBQVEsQ0FBQ0MsRUFBU0MsS0FDM0JDLFlBQVcsS0FDVCxNQUFNdEMsRUFBUWlHLEVBQUdqRyxNQUNqQm9DLEVBQVFwQyxFQUFNLEdBQ2IsSUFBSyxJQUlDLEVBQUFZLFFBQVVmLE1BQU9hLFNBQ0Z1RixFQUFHeEQsV0FBVy9CLEdBSTdCLEVBQUFTLFdBQWF0QixNQUFPb0IsU0FDTGdGLEVBQUduRixZQUFZRyxHQUk5QixFQUFBRyxXQUFhdkIsTUFBT2EsU0FDTHVGLEVBQUc3RSxXQUFXVixHQUk3QixFQUFBYSxXQUFhMUIsTUFBT29CLFNBQ0xnRixFQUFHM0UsZUFBZUwsRSxrSENOOUMsTUFBTWlGLEVBQWtDZCxJQUN0QyxHQUFtQixpQkFBUkEsRUFBa0IsTUFBTSxJQUFJekMsTUFBTSxHQUFHeUMsMkJBQ2hELE9BQU9BLENBQUcsRUFTTmUsRUFBa0NmLElBQ3RDLEdBQW1CLGlCQUFSQSxFQUFrQixNQUFNLElBQUl6QyxNQUFNLEdBQUd5QywyQkFDaEQsT0FBT0EsQ0FBRyxFQUdOZ0IsRUFBb0RDLEdBQ2hEakIsSUFDTixHQUFZLE9BQVJBLEdBQStCLGlCQUFSQSxFQUN6QixNQUFNLElBQUl6QyxNQUFNLEdBQUd5Qyw0QkFBOEJpQixLQUVuRCxNQUFNQyxFQUE0QyxDQUFDLEVBRW5ELElBQUssTUFBTUMsS0FBS0YsRUFDZEMsRUFBSUMsR0FBS0YsRUFBTUUsR0FBSW5CLEVBQVltQixJQUdqQyxPQUFPRCxDQUFHLEVBSVJFLEVBQ0FILEdBQ0hqQixJQUNDLElBQUtxQixNQUFNQyxRQUFRdEIsR0FDakIsTUFBTSxJQUFJekMsTUFBTSxHQUFHeUMsMkJBQTZCaUIsS0FDbEQsT0FBT2pCLEVBQUluQyxJQUFJb0QsRUFBTSxFQUdaLEVBQUE5RCxXQUFhNkQsRUFBTyxDQUMvQm5GLEdBQUlpRixFQUNKekUsU0FBVXlFLEVBQ1Z4RSxJQUFLeUUsRUFDTHhFLFFBQVM2RSxFQUFNTixLQW9CSixFQUFBUyxjQUFnQlAsRUFBTyxDQUNsQzNFLFNBQVV5RSxFQUNWeEUsSUFBS3lFLEVBQ0x4RSxRQUFTNkUsRUFBTU4sS0FHSixFQUFBakcsYUFBZXVHLEVBQU0sRUFBQWpFLFcsb0hDdEZsQyxvQkFBeUJ4QyxFQUF1QjZHLEdBQzlDckcsUUFBUUMsSUFBSSxlQUFnQm9HLEVBQVF4RyxRQUNwQ0wsRUFBSThHLFdBQWFELEVBQVF4RyxPQUN6QkwsRUFBSStHLFVBQVUsZUFBZ0Isb0JBQzlCL0csRUFBSWdILE1BQU1DLEtBQUtDLFVBQVVMLEVBQVF2RyxPQUNqQ04sRUFBSW1ILEtBQ04sRUFHYSxFQUFBQyxpQkFBb0JySCxHQUN4QixJQUFJcUMsU0FBUSxDQUFDQyxFQUFTQyxLQUMzQixJQUFJK0UsRUFBTyxHQUVYdEgsRUFBSTBGLEdBQUcsUUFBUzZCLElBQ2RELEdBQVFDLENBQUssSUFHZnZILEVBQUkwRixHQUFHLE9BQU8sS0FDWixJQUNFNEIsRUFBT0EsRUFBT0osS0FBS3ZELE1BQU0yRCxHQUFRLENBQUMsRUFFbENoRixFQUFRZ0YsRUFDVixDQUFFLE1BQU85RyxHQUNQK0IsRUFBTy9CLEVBQ1QsSUFDQSxJQUtPLEVBQUFnSCxLQUFRQyxHQUNuQixJQUFJcEYsU0FBU0MsR0FBWUUsV0FBV0YsRUFBU21GLEtBR2xDLEVBQUFyRyxPQUFVRCxHQUNkLDhFQUE4RTBELEtBQ25GMUQsRSwyRkMzQ0osZUFDQSxTQUNBLFNBR2EsRUFBQTZFLGlCQUFtQmpHLE1BQzlCQyxFQUNBQyxFQUNBeUgsS0FFQSxJQUNFLE1BQU1KLFFBQWEsSUFBQUQsa0JBQWlCckgsR0FDOUJnRSxFQUFTaEUsRUFBSWdFLFFBQVFDLGNBQ3JCMEQsRUFBVyxDQUFDLFdBQVksTUFBTyxXQUMvQkMsRUFBV3RELE9BQU9DLEtBQUsrQyxHQUM3QixHQUNhLFFBQVh0RCxHQUNBNEQsRUFBU0MsTUFBTXJELEdBQVFtRCxFQUFTRSxNQUFNcEIsR0FBTUEsSUFBTWpDLE1BR2xELFlBREFrRCxFQUFhMUgsRUFBS0MsRUFBS3FILEdBTXpCSSxFQUFhMUgsRUFBS0MsR0FGTCxJQUFBNEcsZUFBY1MsR0FHN0IsQ0FBRSxNQUFPOUcsR0FDUEMsUUFBUUMsSUFBSUYsR0FDUkEsYUFBaUJxQyxPQUNuQixJQUFBeEMsVUFBU0osRUFBSyxDQUFFSyxPQUFRLElBQUtDLEtBQU0sQ0FBRVEsUUFBU1AsRUFBTU8sWUFFcEQsSUFBQVYsVUFBU0osRUFBSyxDQUNaSyxPQUFRLElBQ1JDLEtBQU0sQ0FBRVEsUUFBUyw4Q0FHdkIsRSx1SUNwQ0YsTUFBTSxFQUErQitHLFFBQVEsVSxhQ0M3QyxNQUFNQyxFQUFZLElBQUlDLFdBQVcsS0FFakMsSUFBSUMsRUFBVUYsRUFBVUcsT0FDVCxTQUFTQyxJQU10QixPQUxJRixFQUFVRixFQUFVRyxPQUFTLEtBQy9CLG1CQUFzQkgsR0FDdEJFLEVBQVUsR0FHTEYsRUFBVS9DLE1BQU1pRCxFQUFTQSxHQUFXLEdBQzdDLENDWEEsOEhDTUEsRUFKQSxTQUFrQkcsR0FDaEIsTUFBdUIsaUJBQVRBLEdBQXFCLEVBQU12RCxLQUFLdUQsRUFDaEQsRUNFTUMsRUFBWSxHQUVsQixJQUFLLElBQUk5QyxFQUFJLEVBQUdBLEVBQUksTUFBT0EsRUFDekI4QyxFQUFVdEYsTUFBTXdDLEVBQUksS0FBTytDLFNBQVMsSUFBSXRELE1BQU0sSUFHekMsU0FBU3VELEVBQWdCQyxFQUFLQyxFQUFTLEdBRzVDLE9BQU9KLEVBQVVHLEVBQUlDLEVBQVMsSUFBTUosRUFBVUcsRUFBSUMsRUFBUyxJQUFNSixFQUFVRyxFQUFJQyxFQUFTLElBQU1KLEVBQVVHLEVBQUlDLEVBQVMsSUFBTSxJQUFNSixFQUFVRyxFQUFJQyxFQUFTLElBQU1KLEVBQVVHLEVBQUlDLEVBQVMsSUFBTSxJQUFNSixFQUFVRyxFQUFJQyxFQUFTLElBQU1KLEVBQVVHLEVBQUlDLEVBQVMsSUFBTSxJQUFNSixFQUFVRyxFQUFJQyxFQUFTLElBQU1KLEVBQVVHLEVBQUlDLEVBQVMsSUFBTSxJQUFNSixFQUFVRyxFQUFJQyxFQUFTLEtBQU9KLEVBQVVHLEVBQUlDLEVBQVMsS0FBT0osRUFBVUcsRUFBSUMsRUFBUyxLQUFPSixFQUFVRyxFQUFJQyxFQUFTLEtBQU9KLEVBQVVHLEVBQUlDLEVBQVMsS0FBT0osRUFBVUcsRUFBSUMsRUFBUyxJQUNoZixDQWdCQSxRQWRBLFNBQW1CRCxFQUFLQyxFQUFTLEdBQy9CLE1BQU1MLEVBQU9HLEVBQWdCQyxFQUFLQyxHQU1sQyxJQUFLLEVBQVNMLEdBQ1osTUFBTU0sVUFBVSwrQkFHbEIsT0FBT04sQ0FDVCxFQ3hCQSxJQUFJTyxFQUVBQyxFQUdBQyxFQUFhLEVBQ2JDLEVBQWEsRUFrRmpCLFFBaEZBLFNBQVloQyxFQUFTaUMsRUFBS04sR0FDeEIsSUFBSWxELEVBQUl3RCxHQUFPTixHQUFVLEVBQ3pCLE1BQU1PLEVBQUlELEdBQU8sSUFBSXBDLE1BQU0sSUFFM0IsSUFBSXNDLEdBREpuQyxFQUFVQSxHQUFXLENBQUMsR0FDSG1DLE1BQVFOLEVBQ3ZCTyxPQUFnQ0MsSUFBckJyQyxFQUFRb0MsU0FBeUJwQyxFQUFRb0MsU0FBV04sRUFJbkUsR0FBWSxNQUFSSyxHQUE0QixNQUFaQyxFQUFrQixDQUNwQyxNQUFNRSxFQUFZdEMsRUFBUXVDLFNBQVd2QyxFQUFRcUIsS0FBT0EsS0FFeEMsTUFBUmMsSUFFRkEsRUFBT04sRUFBVSxDQUFnQixFQUFmUyxFQUFVLEdBQVdBLEVBQVUsR0FBSUEsRUFBVSxHQUFJQSxFQUFVLEdBQUlBLEVBQVUsR0FBSUEsRUFBVSxLQUczRixNQUFaRixJQUVGQSxFQUFXTixFQUFpRCxPQUFwQ1EsRUFBVSxJQUFNLEVBQUlBLEVBQVUsSUFFMUQsQ0FNQSxJQUFJRSxPQUEwQkgsSUFBbEJyQyxFQUFRd0MsTUFBc0J4QyxFQUFRd0MsTUFBUUMsS0FBS0MsTUFHM0RDLE9BQTBCTixJQUFsQnJDLEVBQVEyQyxNQUFzQjNDLEVBQVEyQyxNQUFRWCxFQUFhLEVBRXZFLE1BQU1ZLEVBQUtKLEVBQVFULEdBQWNZLEVBQVFYLEdBQWMsSUFhdkQsR0FYSVksRUFBSyxRQUEwQlAsSUFBckJyQyxFQUFRb0MsV0FDcEJBLEVBQVdBLEVBQVcsRUFBSSxRQUt2QlEsRUFBSyxHQUFLSixFQUFRVCxTQUFpQ00sSUFBbEJyQyxFQUFRMkMsUUFDNUNBLEVBQVEsR0FJTkEsR0FBUyxJQUNYLE1BQU0sSUFBSTVHLE1BQU0sbURBR2xCZ0csRUFBYVMsRUFDYlIsRUFBYVcsRUFDYmIsRUFBWU0sRUFFWkksR0FBUyxZQUVULE1BQU1LLEdBQTRCLEtBQWIsVUFBUkwsR0FBNkJHLEdBQVMsV0FDbkRULEVBQUV6RCxLQUFPb0UsSUFBTyxHQUFLLElBQ3JCWCxFQUFFekQsS0FBT29FLElBQU8sR0FBSyxJQUNyQlgsRUFBRXpELEtBQU9vRSxJQUFPLEVBQUksSUFDcEJYLEVBQUV6RCxLQUFZLElBQUxvRSxFQUVULE1BQU1DLEVBQU1OLEVBQVEsV0FBYyxJQUFRLFVBQzFDTixFQUFFekQsS0FBT3FFLElBQVEsRUFBSSxJQUNyQlosRUFBRXpELEtBQWEsSUFBTnFFLEVBRVRaLEVBQUV6RCxLQUFPcUUsSUFBUSxHQUFLLEdBQU0sR0FFNUJaLEVBQUV6RCxLQUFPcUUsSUFBUSxHQUFLLElBRXRCWixFQUFFekQsS0FBTzJELElBQWEsRUFBSSxJQUUxQkYsRUFBRXpELEtBQWtCLElBQVgyRCxFQUVULElBQUssSUFBSVcsRUFBSSxFQUFHQSxFQUFJLElBQUtBLEVBQ3ZCYixFQUFFekQsRUFBSXNFLEdBQUtaLEVBQUtZLEdBR2xCLE9BQU9kLEdBQU9SLEVBQWdCUyxFQUNoQyxFQzFEQSxFQWhDQSxTQUFlWixHQUNiLElBQUssRUFBU0EsR0FDWixNQUFNTSxVQUFVLGdCQUdsQixJQUFJb0IsRUFDSixNQUFNdEIsRUFBTSxJQUFJUixXQUFXLElBdUIzQixPQXJCQVEsRUFBSSxJQUFNc0IsRUFBSUMsU0FBUzNCLEVBQUtwRCxNQUFNLEVBQUcsR0FBSSxPQUFTLEdBQ2xEd0QsRUFBSSxHQUFLc0IsSUFBTSxHQUFLLElBQ3BCdEIsRUFBSSxHQUFLc0IsSUFBTSxFQUFJLElBQ25CdEIsRUFBSSxHQUFTLElBQUpzQixFQUVUdEIsRUFBSSxJQUFNc0IsRUFBSUMsU0FBUzNCLEVBQUtwRCxNQUFNLEVBQUcsSUFBSyxPQUFTLEVBQ25Ed0QsRUFBSSxHQUFTLElBQUpzQixFQUVUdEIsRUFBSSxJQUFNc0IsRUFBSUMsU0FBUzNCLEVBQUtwRCxNQUFNLEdBQUksSUFBSyxPQUFTLEVBQ3BEd0QsRUFBSSxHQUFTLElBQUpzQixFQUVUdEIsRUFBSSxJQUFNc0IsRUFBSUMsU0FBUzNCLEVBQUtwRCxNQUFNLEdBQUksSUFBSyxPQUFTLEVBQ3BEd0QsRUFBSSxHQUFTLElBQUpzQixFQUdUdEIsRUFBSSxLQUFPc0IsRUFBSUMsU0FBUzNCLEVBQUtwRCxNQUFNLEdBQUksSUFBSyxLQUFPLGNBQWdCLElBQ25Fd0QsRUFBSSxJQUFNc0IsRUFBSSxXQUFjLElBQzVCdEIsRUFBSSxJQUFNc0IsSUFBTSxHQUFLLElBQ3JCdEIsRUFBSSxJQUFNc0IsSUFBTSxHQUFLLElBQ3JCdEIsRUFBSSxJQUFNc0IsSUFBTSxFQUFJLElBQ3BCdEIsRUFBSSxJQUFVLElBQUpzQixFQUNIdEIsQ0FDVCxFQ2ZlLFNBQVN3QixFQUFJQyxFQUFNQyxFQUFTQyxHQUN6QyxTQUFTQyxFQUFhaEksRUFBT2lJLEVBQVd0QixFQUFLTixHQUMzQyxJQUFJNkIsRUFVSixHQVJxQixpQkFBVmxJLElBQ1RBLEVBbkJOLFNBQXVCbUksR0FDckJBLEVBQU1DLFNBQVNDLG1CQUFtQkYsSUFFbEMsTUFBTUcsRUFBUSxHQUVkLElBQUssSUFBSW5GLEVBQUksRUFBR0EsRUFBSWdGLEVBQUlyQyxTQUFVM0MsRUFDaENtRixFQUFNM0gsS0FBS3dILEVBQUlJLFdBQVdwRixJQUc1QixPQUFPbUYsQ0FDVCxDQVNjRSxDQUFjeEksSUFHQyxpQkFBZGlJLElBQ1RBLEVBQVksRUFBTUEsSUFHOEUsTUFBaEUsUUFBNUJDLEVBQWFELFNBQXNDLElBQWZDLE9BQXdCLEVBQVNBLEVBQVdwQyxRQUNwRixNQUFNUSxVQUFVLG9FQU1sQixJQUFJZ0MsRUFBUSxJQUFJMUMsV0FBVyxHQUFLNUYsRUFBTThGLFFBT3RDLEdBTkF3QyxFQUFNRyxJQUFJUixHQUNWSyxFQUFNRyxJQUFJekksRUFBT2lJLEVBQVVuQyxRQUMzQndDLEVBQVFQLEVBQVNPLEdBQ2pCQSxFQUFNLEdBQWdCLEdBQVhBLEVBQU0sR0FBWVIsRUFDN0JRLEVBQU0sR0FBZ0IsR0FBWEEsRUFBTSxHQUFZLElBRXpCM0IsRUFBSyxDQUNQTixFQUFTQSxHQUFVLEVBRW5CLElBQUssSUFBSWxELEVBQUksRUFBR0EsRUFBSSxLQUFNQSxFQUN4QndELEVBQUlOLEVBQVNsRCxHQUFLbUYsRUFBTW5GLEdBRzFCLE9BQU93RCxDQUNULENBRUEsT0FBT1IsRUFBZ0JtQyxFQUN6QixDQUdBLElBQ0VOLEVBQWFILEtBQU9BLENBQ3RCLENBQUUsTUFBT2EsR0FBTSxDQUtmLE9BRkFWLEVBQWFXLElBL0NJLHVDQWdEakJYLEVBQWFZLElBL0NJLHVDQWdEVlosQ0FDVCxDQ3JEQSxNQ1RBLEVBRFdKLEVBQUksS0FBTSxJREFyQixTQUFhVSxHQU9YLE9BTkkvRCxNQUFNQyxRQUFROEQsR0FDaEJBLEVBQVFPLE9BQU9DLEtBQUtSLEdBQ00saUJBQVZBLElBQ2hCQSxFQUFRTyxPQUFPQyxLQUFLUixFQUFPLFNBR3RCLGVBQWtCLE9BQU9TLE9BQU9ULEdBQU9VLFFBQ2hELElFVEEsR0FDRUMsV0FBWSxnQkMwQmQsRUF4QkEsU0FBWXZFLEVBQVNpQyxFQUFLTixHQUN4QixHQUFJLEVBQU80QyxhQUFldEMsSUFBUWpDLEVBQ2hDLE9BQU8sRUFBT3VFLGFBSWhCLE1BQU1DLEdBRE54RSxFQUFVQSxHQUFXLENBQUMsR0FDRHVDLFNBQVd2QyxFQUFRcUIsS0FBT0EsS0FLL0MsR0FIQW1ELEVBQUssR0FBZSxHQUFWQSxFQUFLLEdBQVksR0FDM0JBLEVBQUssR0FBZSxHQUFWQSxFQUFLLEdBQVksSUFFdkJ2QyxFQUFLLENBQ1BOLEVBQVNBLEdBQVUsRUFFbkIsSUFBSyxJQUFJbEQsRUFBSSxFQUFHQSxFQUFJLEtBQU1BLEVBQ3hCd0QsRUFBSU4sRUFBU2xELEdBQUsrRixFQUFLL0YsR0FHekIsT0FBT3dELENBQ1QsQ0FFQSxPQUFPUixFQUFnQitDLEVBQ3pCLEVDdkJBLEVBRFd0QixFQUFJLEtBQU0sSUNBckIsU0FBY1UsR0FPWixPQU5JL0QsTUFBTUMsUUFBUThELEdBQ2hCQSxFQUFRTyxPQUFPQyxLQUFLUixHQUNNLGlCQUFWQSxJQUNoQkEsRUFBUU8sT0FBT0MsS0FBS1IsRUFBTyxTQUd0QixlQUFrQixRQUFRUyxPQUFPVCxHQUFPVSxRQUNqRCxJQ1ZBLHlDQ1VBLEVBUkEsU0FBaUJoRCxHQUNmLElBQUssRUFBU0EsR0FDWixNQUFNTSxVQUFVLGdCQUdsQixPQUFPcUIsU0FBUzNCLEVBQUtwRCxNQUFNLEdBQUksSUFBSyxHQUN0QyxDLFVDUkF1RyxFQUFPQyxRQUFVMUQsUUFBUSxPLFVDQXpCeUQsRUFBT0MsUUFBVTFELFFBQVEsTSxHQ0NyQjJELEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQnhDLElBQWpCeUMsRUFDSCxPQUFPQSxFQUFhSixRQUdyQixJQUFJRCxFQUFTRSxFQUF5QkUsR0FBWSxDQUdqREgsUUFBUyxDQUFDLEdBT1gsT0FIQUssRUFBb0JGLEdBQVVHLEtBQUtQLEVBQU9DLFFBQVNELEVBQVFBLEVBQU9DLFFBQVNFLEdBR3BFSCxFQUFPQyxPQUNmLENDckJBRSxFQUFvQjdCLEVBQUswQixJQUN4QixJQUFJUSxFQUFTUixHQUFVQSxFQUFPUyxXQUM3QixJQUFPVCxFQUFpQixRQUN4QixJQUFNLEVBRVAsT0FEQUcsRUFBb0JPLEVBQUVGLEVBQVEsQ0FBRUcsRUFBR0gsSUFDNUJBLENBQU0sRUNMZEwsRUFBb0JPLEVBQUksQ0FBQ1QsRUFBU1csS0FDakMsSUFBSSxJQUFJM0gsS0FBTzJILEVBQ1hULEVBQW9CVSxFQUFFRCxFQUFZM0gsS0FBU2tILEVBQW9CVSxFQUFFWixFQUFTaEgsSUFDNUVGLE9BQU8rSCxlQUFlYixFQUFTaEgsRUFBSyxDQUFFOEgsWUFBWSxFQUFNQyxJQUFLSixFQUFXM0gsSUFFMUUsRUNORGtILEVBQW9CVSxFQUFJLENBQUNJLEVBQUtDLElBQVVuSSxPQUFPb0ksVUFBVUMsZUFBZWIsS0FBS1UsRUFBS0MsR0NDbEZmLEVBQW9Ca0IsRUFBS3BCLElBQ0gsb0JBQVhxQixRQUEwQkEsT0FBT0MsYUFDMUN4SSxPQUFPK0gsZUFBZWIsRUFBU3FCLE9BQU9DLFlBQWEsQ0FBRTFLLE1BQU8sV0FFN0RrQyxPQUFPK0gsZUFBZWIsRUFBUyxhQUFjLENBQUVwSixPQUFPLEdBQU8sRUNGcENzSixFQUFvQixJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9kZV9jcnVkLWFwaS8uL3NyYy9jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vbm9kZV9jcnVkLWFwaS8uL3NyYy9jb250cm9sbGVycy91c2VyLWNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vbm9kZV9jcnVkLWFwaS8uL3NyYy9kYi9kYi50cyIsIndlYnBhY2s6Ly9ub2RlX2NydWQtYXBpLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL25vZGVfY3J1ZC1hcGkvLi9zcmMvbWlkZGxld2FyZS50cyIsIndlYnBhY2s6Ly9ub2RlX2NydWQtYXBpLy4vc3JjL3JvdXRlcy9pbmRleC50cyIsIndlYnBhY2s6Ly9ub2RlX2NydWQtYXBpLy4vc3JjL3NlcnZpY2VzL3VzZXItc2VydmljZS50cyIsIndlYnBhY2s6Ly9ub2RlX2NydWQtYXBpLy4vc3JjL3R5cGVzLnRzIiwid2VicGFjazovL25vZGVfY3J1ZC1hcGkvLi9zcmMvdXRpbHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vbm9kZV9jcnVkLWFwaS8uL3NyYy92YWxpZGF0aW9uL3VzZXItdmFsaWRhdGlvbi50cyIsIndlYnBhY2s6Ly9ub2RlX2NydWQtYXBpL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJjcnlwdG9cIiIsIndlYnBhY2s6Ly9ub2RlX2NydWQtYXBpLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9ybmcuanMiLCJ3ZWJwYWNrOi8vbm9kZV9jcnVkLWFwaS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvcmVnZXguanMiLCJ3ZWJwYWNrOi8vbm9kZV9jcnVkLWFwaS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdmFsaWRhdGUuanMiLCJ3ZWJwYWNrOi8vbm9kZV9jcnVkLWFwaS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvc3RyaW5naWZ5LmpzIiwid2VicGFjazovL25vZGVfY3J1ZC1hcGkvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3YxLmpzIiwid2VicGFjazovL25vZGVfY3J1ZC1hcGkvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3BhcnNlLmpzIiwid2VicGFjazovL25vZGVfY3J1ZC1hcGkvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3YzNS5qcyIsIndlYnBhY2s6Ly9ub2RlX2NydWQtYXBpLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9tZDUuanMiLCJ3ZWJwYWNrOi8vbm9kZV9jcnVkLWFwaS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjMuanMiLCJ3ZWJwYWNrOi8vbm9kZV9jcnVkLWFwaS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvbmF0aXZlLmpzIiwid2VicGFjazovL25vZGVfY3J1ZC1hcGkvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3Y0LmpzIiwid2VicGFjazovL25vZGVfY3J1ZC1hcGkvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3Y1LmpzIiwid2VicGFjazovL25vZGVfY3J1ZC1hcGkvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3NoYTEuanMiLCJ3ZWJwYWNrOi8vbm9kZV9jcnVkLWFwaS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvbmlsLmpzIiwid2VicGFjazovL25vZGVfY3J1ZC1hcGkvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3ZlcnNpb24uanMiLCJ3ZWJwYWNrOi8vbm9kZV9jcnVkLWFwaS9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwiaHR0cFwiIiwid2VicGFjazovL25vZGVfY3J1ZC1hcGkvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcInVybFwiIiwid2VicGFjazovL25vZGVfY3J1ZC1hcGkvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbm9kZV9jcnVkLWFwaS93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9ub2RlX2NydWQtYXBpL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9ub2RlX2NydWQtYXBpL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vbm9kZV9jcnVkLWFwaS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL25vZGVfY3J1ZC1hcGkvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBUSU1FT1VUX21zID0gMTAwMDtcbiIsImltcG9ydCB7XG4gIEFycmF5T2ZVc2VycyxcbiAgUGFydGlhbFVzZXIsXG4gIFJlcXVlc3RUeXBlTm9kZSxcbiAgUmVzcG9uc2VUeXBlTm9kZSxcbiAgVXNlcixcbn0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaXNVVUlELCByZXNwb25zZSB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCAqIGFzIHVzZXJTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL3VzZXItc2VydmljZSc7XG5cbi8vIEdFVCBhbGwgdXNlcnNcbmV4cG9ydCBjb25zdCBnZXRVc2VycyA9IGFzeW5jIChyZXE6IFJlcXVlc3RUeXBlTm9kZSwgcmVzOiBSZXNwb25zZVR5cGVOb2RlKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlcnM6IFVzZXJbXSA9IEFycmF5T2ZVc2Vycyhhd2FpdCB1c2VyU2VydmljZS5nZXRVc2VycygpKTtcbiAgICByZXNwb25zZShyZXMsIHsgc3RhdHVzOiAyMDAsIGRhdGE6IHsgdXNlcnMgfSB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZygnRXJyb3Igd2hpbGUgZ2V0dGluZyB1c2VycycsIGVycm9yKTtcbiAgfVxufTtcblxuLy8gUE9TVCB1c2VyXG5leHBvcnQgY29uc3QgY3JlYXRlVXNlciA9IGFzeW5jIChcbiAgcmVxOiBSZXF1ZXN0VHlwZU5vZGUsXG4gIHJlczogUmVzcG9uc2VUeXBlTm9kZSxcbiAgdXNlcjogT21pdDxVc2VyLCAnaWQnPixcbikgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGNyZWF0ZWRVc2VyID0gYXdhaXQgdXNlclNlcnZpY2UuYWRkVXNlcih1c2VyKTtcbiAgICBpZiAoY3JlYXRlZFVzZXIpIHtcbiAgICAgIHJlc3BvbnNlKHJlcywgeyBzdGF0dXM6IDIwMSwgZGF0YTogeyB1c2VyOiBjcmVhdGVkVXNlciB9IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZShyZXMsIHtcbiAgICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICAgIGRhdGE6IHsgbWVzc2FnZTogJ0Vycm9yIHdoaWxlIGNyZWF0aW5nIHVzZXInIH0sXG4gICAgICB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coJ0Vycm9yIHdoaWxlIGNyZWF0aW5nIHVzZXInLCBlcnJvcik7XG4gIH1cbn07XG5cbi8vIEdFVCBvbmUgdXNlclxuZXhwb3J0IGNvbnN0IGdldFVzZXJCeUlkID0gYXN5bmMgKFxuICByZXE6IFJlcXVlc3RUeXBlTm9kZSxcbiAgcmVzOiBSZXNwb25zZVR5cGVOb2RlLFxuKSA9PiB7XG4gIGNvbnN0IHVzZXJJZCA9IHJlcS5wYXJhbXM/LmlkO1xuICBpZiAoIXVzZXJJZCkge1xuICAgIHJlc3BvbnNlKHJlcywge1xuICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICBkYXRhOiB7IG1lc3NhZ2U6ICdObyB1c2VyIElEIHByb3ZpZGVkJyB9LFxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfSBlbHNlIGlmICghaXNVVUlEKHVzZXJJZCkpIHtcbiAgICByZXNwb25zZShyZXMsIHtcbiAgICAgIHN0YXR1czogNDAwLFxuICAgICAgZGF0YTogeyBtZXNzYWdlOiAnUHJvdmlkZWQgdXNlciBJRCBpcyBub3QgVVVJRCcgfSxcbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cblxuICB0cnkge1xuICAgIGlmICh1c2VySWQpIHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyU2VydmljZS5nZXRPbmVVc2VyKHVzZXJJZCk7XG4gICAgICBpZiAodXNlcikge1xuICAgICAgICByZXNwb25zZShyZXMsIHsgc3RhdHVzOiAyMDAsIGRhdGE6IHsgdXNlciB9IH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzcG9uc2UocmVzLCB7XG4gICAgICAgICAgc3RhdHVzOiA0MDQsXG4gICAgICAgICAgZGF0YTogeyBtZXNzYWdlOiBgVXNlciB3aXRoIGlkICR7dXNlcklkfSBOT1QgRk9VTkRgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZShyZXMsIHtcbiAgICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICAgIGRhdGE6IHsgbWVzc2FnZTogJ0ludmFsaWQgdXNlciBpZCcgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhgRXJyb3Igd2hpbGUgZ2V0dGluZyBvbiB1c2VyIHdpdGggaWQ6ICR7dXNlcklkfWAsIGVycm9yKTtcbiAgfVxufTtcblxuLy8gUFVUIHVzZXJcbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VyID0gYXN5bmMgKFxuICByZXE6IFJlcXVlc3RUeXBlTm9kZSxcbiAgcmVzOiBSZXNwb25zZVR5cGVOb2RlLFxuICB1c2VyOiBQYXJ0aWFsVXNlcixcbikgPT4ge1xuICBjb25zdCB1c2VySWQgPSByZXEucGFyYW1zPy5pZDtcbiAgaWYgKCF1c2VySWQpIHtcbiAgICByZXNwb25zZShyZXMsIHtcbiAgICAgIHN0YXR1czogNDAwLFxuICAgICAgZGF0YTogeyBtZXNzYWdlOiAnTm8gdXNlciBJRCBwcm92aWRlZCcgfSxcbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH0gZWxzZSBpZiAoIWlzVVVJRCh1c2VySWQpKSB7XG4gICAgcmVzcG9uc2UocmVzLCB7XG4gICAgICBzdGF0dXM6IDQwMCxcbiAgICAgIGRhdGE6IHsgbWVzc2FnZTogJ1Byb3ZpZGVkIHVzZXIgSUQgaXMgbm90IFVVSUQnIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdXNlciA9IHsgLi4udXNlciwgaWQ6IHVzZXJJZCB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCB1c2VyU2VydmljZS51cGRhdGVVc2VyKHVzZXIpO1xuICAgIGlmICh1cGRhdGVkVXNlcikge1xuICAgICAgcmVzcG9uc2UocmVzLCB7IHN0YXR1czogMjAwLCBkYXRhOiB7IHVzZXI6IHVwZGF0ZWRVc2VyIH0gfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3BvbnNlKHJlcywge1xuICAgICAgICBzdGF0dXM6IDQwNCxcbiAgICAgICAgZGF0YTogeyBtZXNzYWdlOiBgVXNlciB3aXRoIGlkICR7dXNlcklkfSBOT1QgRk9VTkRgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coJ0Vycm9yIHdoaWxlIHVwZGF0aW5nIHVzZXInLCBlcnJvcik7XG4gIH1cbn07XG5cbi8vIERFTEVURSB1c2VyXG5leHBvcnQgY29uc3QgZGVsZXRlVXNlckJ5SWQgPSBhc3luYyAoXG4gIHJlcTogUmVxdWVzdFR5cGVOb2RlLFxuICByZXM6IFJlc3BvbnNlVHlwZU5vZGUsXG4pID0+IHtcbiAgY29uc3QgdXNlcklkID0gcmVxLnBhcmFtcz8uaWQ7XG4gIGlmICghdXNlcklkKSB7XG4gICAgcmVzcG9uc2UocmVzLCB7XG4gICAgICBzdGF0dXM6IDQwMCxcbiAgICAgIGRhdGE6IHsgbWVzc2FnZTogJ05vIHVzZXIgSUQgcHJvdmlkZWQnIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9IGVsc2UgaWYgKCFpc1VVSUQodXNlcklkKSkge1xuICAgIHJlc3BvbnNlKHJlcywge1xuICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICBkYXRhOiB7IG1lc3NhZ2U6ICdQcm92aWRlZCB1c2VyIElEIGlzIG5vdCBVVUlEJyB9LFxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJTZXJ2aWNlLmRlbGV0ZVVzZXIodXNlcklkKTtcbiAgICBpZiAodXNlcikge1xuICAgICAgcmVzcG9uc2UocmVzLCB7XG4gICAgICAgIHN0YXR1czogMjA0LFxuICAgICAgICBkYXRhOiB7IG1lc3NhZ2U6IGBVc2VyIHdpdGggaWQgJHt1c2VyLmlkfSB3YXMgZGVsZXRlZGAgfSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZShyZXMsIHtcbiAgICAgICAgc3RhdHVzOiA0MDQsXG4gICAgICAgIGRhdGE6IHsgbWVzc2FnZTogYFVzZXIgd2l0aCBpZCAke3VzZXJJZH0gTk9UIEZPVU5EYCB9LFxuICAgICAgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGBFcnJvciB3aGlsZSBnZXR0aW5nIG9uIHVzZXIgd2l0aCBpZDogJHt1c2VySWR9YCwgZXJyb3IpO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgT2JqZWN0VXNlciwgUGFydGlhbFVzZXIsIFVzZXIgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCB7IHdhaXQgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyBUSU1FT1VUX21zIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuY29uc3QgaW5pdGlhbFVzZXIgPSB7XG4gIGlkOiAnMGE3YmQyMzEtMzkwOC00NjczLWFiNzktNDBjNGRlZWNmZTk5JyxcbiAgdXNlcm5hbWU6ICdBbGV4JyxcbiAgYWdlOiAzMyxcbiAgaG9iYmllczogWydoaWtpbmcnLCAnZHJpbmtpbmcnXSxcbn07XG5cbmV4cG9ydCBjbGFzcyBVc2Vyc0RCIHtcbiAgcHJpdmF0ZSB1c2Vyc0RhdGEhOiBVc2VyW107XG4gIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTogYW55O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGlmIChVc2Vyc0RCLl9pbnN0YW5jZSkge1xuICAgICAgcmV0dXJuIFVzZXJzREIuX2luc3RhbmNlO1xuICAgIH1cbiAgICB0aGlzLnVzZXJzRGF0YSA9IFtpbml0aWFsVXNlcl07XG4gICAgVXNlcnNEQi5faW5zdGFuY2UgPSB0aGlzO1xuICB9XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKCkge1xuICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgfVxuXG4gIGdldCB1c2VycygpIHtcbiAgICByZXR1cm4gdGhpcy51c2Vyc0RhdGE7XG4gIH1cblxuICBzZXQgdXNlcnModmFsdWU6IFVzZXJbXSkge1xuICAgIHRoaXMudXNlcnNEYXRhID0gdmFsdWU7XG4gIH1cblxuICBnZXRVc2VyQnlJZChpZDogc3RyaW5nKTogUHJvbWlzZTxVc2VyIHwgbnVsbD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgbGV0IHVzZXI6IFVzZXIgfCBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHVzZXIgPSBPYmplY3RVc2VyKHRoaXMudXNlcnMuZmluZCgodXNlcikgPT4gdXNlci5pZCA9PT0gaWQpKTtcbiAgICAgICAgICByZXNvbHZlKHVzZXIpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH0sIFRJTUVPVVRfbXMpO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkTmV3VXNlcih1c2VyOiBPbWl0PFVzZXIsICdpZCc+KTogUHJvbWlzZTxVc2VyIHwgbnVsbD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc3QgdXNlcklkID0gdXVpZHY0KCk7XG4gICAgICAgIGlmICh0aGlzLnVzZXJzLmZpbmRJbmRleCgodXNlcikgPT4gdXNlci5pZCA9PT0gdXNlcklkKSA+IC0xKSB7XG4gICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICB0aHJvdyBFcnJvcignRXJyb3IgaW4gREIgd2hlbiBjcmVhdGluZyBuZXcgdXNlcicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld1VzZXIgPSB7IGlkOiB1c2VySWQsIC4uLnVzZXIgfTtcbiAgICAgICAgdGhpcy51c2Vycy5wdXNoKG5ld1VzZXIpO1xuICAgICAgICByZXNvbHZlKG5ld1VzZXIpO1xuICAgICAgfSwgVElNRU9VVF9tcyk7XG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGVVc2VyKHVzZXJEYXRhOiBQYXJ0aWFsVXNlcik6IFByb21pc2U8VXNlciB8IG51bGw+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nVXNlciA9IHRoaXMudXNlcnMuZmluZCgodSkgPT4gdS5pZCA9PT0gdXNlckRhdGEuaWQpO1xuICAgICAgICBpZiAoIWV4aXN0aW5nVXNlcikge1xuICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgdXBkYXRlZFVzZXI6IFVzZXIgPSB7IC4uLmV4aXN0aW5nVXNlciwgLi4udXNlckRhdGEgfTtcblxuICAgICAgICAgIHRoaXMudXNlcnMgPSB0aGlzLnVzZXJzLm1hcCgodXNlcikgPT5cbiAgICAgICAgICAgIHVzZXIuaWQgPT09IHVzZXJEYXRhLmlkID8gdXBkYXRlZFVzZXIgOiB1c2VyLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVzb2x2ZSh1cGRhdGVkVXNlcik7XG4gICAgICAgIH1cbiAgICAgIH0sIFRJTUVPVVRfbXMpO1xuICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlVXNlckJ5SWQoaWQ6IHN0cmluZyk6IFByb21pc2U8VXNlciB8IG51bGw+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGxldCB1c2VyOiBVc2VyIHwgbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB1c2VyID0gT2JqZWN0VXNlcih0aGlzLnVzZXJzLmZpbmQoKHVzZXIpID0+IHVzZXIuaWQgPT09IGlkKSk7XG4gICAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgIHRoaXMudXNlcnMgPSB0aGlzLnVzZXJzLmZpbHRlcigodXNlcikgPT4gdXNlci5pZCAhPT0gaWQpO1xuICAgICAgICAgICAgcmVzb2x2ZSh1c2VyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH0sIFRJTUVPVVRfbXMpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgaHR0cCBmcm9tICdodHRwJztcbmltcG9ydCB1cmwgZnJvbSAndXJsJztcbmltcG9ydCB7IGxvZ2dlck1pZGRsZXdhcmUgfSBmcm9tICcuL21pZGRsZXdhcmUnO1xuaW1wb3J0IHsgcm91dGVzIH0gZnJvbSAnLi9yb3V0ZXMnO1xuaW1wb3J0IHsgUmVxdWVzdFR5cGVOb2RlIH0gZnJvbSAnLi90eXBlcyc7XG5cbmNvbnN0IFBPUlQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDQwMDA7XG5cbmNvbnN0IHNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBwYXJzZWRVcmwgPSB1cmwucGFyc2UocmVxLnVybCB8fCAnJywgdHJ1ZSk7XG4gIGNvbnN0IHF1ZXJ5ID0gcGFyc2VkVXJsLnF1ZXJ5IHx8ICcnO1xuICBjb25zdCBwYXRoID0gcGFyc2VkVXJsLnBhdGhuYW1lIHx8ICcnO1xuICBjb25zdCBtZXRob2QgPSByZXEubWV0aG9kPy50b1VwcGVyQ2FzZSgpIHx8ICcnO1xuXG4gIGxldCBoYW5kbGVyID0gcm91dGVzW3BhdGhdICYmIHJvdXRlc1twYXRoXVttZXRob2RdO1xuICBjb25zdCBfcmVxOiBSZXF1ZXN0VHlwZU5vZGUgPSByZXE7XG5cbiAgLy8gRHluYW1pYyBoYW5kbGVyXG4gIGlmICghaGFuZGxlcikge1xuICAgIGNvbnN0IHJvdXRlRHluYW1pY0tleXMgPSBPYmplY3Qua2V5cyhyb3V0ZXMpLmZpbHRlcigoa2V5KSA9PlxuICAgICAga2V5LmluY2x1ZGVzKCc6JyksXG4gICAgKTtcbiAgICBjb25zdCBtYXRjaGVkS2V5ID0gcm91dGVEeW5hbWljS2V5cy5maW5kKChrZXkpID0+IHtcbiAgICAgIC8vIHJlcGxhY2luZyBlYWNoIHNlZ21lbnQgb2YgdGhlIGtleSB0aGF0IHN0YXJ0cyB3aXRoIGEgY29sb24gKDopXG4gICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoYF4ke2tleS5yZXBsYWNlKC86W14vXSsvZywgJyhbXi9dKyknKX0kYCk7XG4gICAgICBjb25zb2xlLmxvZyh7IHJlZ2V4IH0pO1xuICAgICAgcmV0dXJuIHJlZ2V4LnRlc3QocGF0aCk7IC8vIC9hcGkvdXNlcnMvOjEyMyA9PiAvYXBpL3VzZXJzLzEyM1xuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coeyBtYXRjaGVkS2V5IH0pO1xuXG4gICAgaWYgKG1hdGNoZWRLZXkpIHtcbiAgICAgIC8vIG5vdyB3ZSBuZWVkIHRvIGdldCBwYXJhbXRlcmVzICg6aWQpXG4gICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoYF4ke21hdGNoZWRLZXkucmVwbGFjZSgvOlteL10rL2csICcoW14vXSspJyl9JGApO1xuXG4gICAgICBjb25zdCBkeW5hbWljUGFyYW1zID0gcmVnZXguZXhlYyhwYXRoKT8uc2xpY2UoMSk7XG5cbiAgICAgIGNvbnN0IHBhcmFtS2V5cyA9IG1hdGNoZWRLZXlcbiAgICAgICAgPy5tYXRjaCgvOlteL10rL2cpXG4gICAgICAgID8ubWFwKChrZXkpID0+IGtleS5zdWJzdHJpbmcoMSkpO1xuXG4gICAgICBpZiAocGFyYW1LZXlzKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IGR5bmFtaWNQYXJhbXM/LnJlZHVjZShcbiAgICAgICAgICAoYWNjLCB2YWwsIGkpID0+ICh7IC4uLmFjYywgW3BhcmFtS2V5c1tpXV06IHZhbCB9KSxcbiAgICAgICAgICB7fSxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc29sZS5sb2cocGFyYW1zKTtcbiAgICAgICAgX3JlcS5wYXJhbXMgPSBwYXJhbXM7XG4gICAgICB9XG5cbiAgICAgIGhhbmRsZXIgPSByb3V0ZXNbbWF0Y2hlZEtleV1bbWV0aG9kXTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWhhbmRsZXIpIHtcbiAgICBoYW5kbGVyID0gcm91dGVzLm5vdEZvdW5kLnJlc3A7XG4gIH1cblxuICBfcmVxLnF1ZXJ5ID0ge307XG4gIGZvciAoY29uc3Qga2V5IGluIHF1ZXJ5KSB7XG4gICAgX3JlcS5xdWVyeVtrZXldID0gcXVlcnlba2V5XTtcbiAgfVxuXG4gIGhhbmRsZXIoX3JlcSwgcmVzKTtcbn0pO1xuXG5zZXJ2ZXIub24oJ3JlcXVlc3QnLCBsb2dnZXJNaWRkbGV3YXJlKTtcblxuc2VydmVyLmxpc3RlbihQT1JULCAoKSA9PiBjb25zb2xlLmxvZyhgU2VydmVyIGlzIGxpc3RlbmluZyBvbiBwb3J0ICR7UE9SVH1gKSk7XG4iLCJleHBvcnQgY29uc3QgbG9nZ2VyTWlkZGxld2FyZSA9IChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcbiAgY29uc29sZS5sb2coYCR7cmVxLm1ldGhvZH0gJHtyZXEudXJsfWApO1xufTtcbiIsImltcG9ydCB7IFJlcXVlc3RUeXBlTm9kZSwgUmVzcG9uc2VUeXBlTm9kZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IHJlc3BvbnNlIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IGh0dHAgZnJvbSAnaHR0cCc7XG5pbXBvcnQgKiBhcyB1c2VyQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy91c2VyLWNvbnRyb2xsZXInO1xuaW1wb3J0IHsgdmFsaWRhdGVVc2VyRGF0YSB9IGZyb20gJy4uL3ZhbGlkYXRpb24vdXNlci12YWxpZGF0aW9uJztcblxuZXhwb3J0IHR5cGUgUm91dGVzVHlwZSA9IHtcbiAgW3BhdGg6IHN0cmluZ106IHtcbiAgICBbbWV0aG9kOiBzdHJpbmddOiAoX3JlcTogUmVxdWVzdFR5cGVOb2RlLCByZXM6IFJlc3BvbnNlVHlwZU5vZGUpID0+IHZvaWQ7XG4gIH07XG59O1xuXG5leHBvcnQgY29uc3Qgcm91dGVzOiBSb3V0ZXNUeXBlID0ge1xuICAnLyc6IHtcbiAgICBHRVQ6IChfcmVxOiBSZXF1ZXN0VHlwZU5vZGUsIHJlczogUmVzcG9uc2VUeXBlTm9kZSkgPT4ge1xuICAgICAgcmVzcG9uc2UocmVzLCB7XG4gICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICBkYXRhOiB7IG1lc3NhZ2U6ICdUbyBydW4gTm9kZS5qcyBDUlVEIEFQSSBwYXRoIHRvIC9hcGknIH0sXG4gICAgICB9KTtcbiAgICB9LFxuICB9LFxuXG4gICcvYXBpJzoge1xuICAgIEdFVDogKF9yZXE6IFJlcXVlc3RUeXBlTm9kZSwgcmVzOiBSZXNwb25zZVR5cGVOb2RlKSA9PiB7XG4gICAgICByZXNwb25zZShyZXMsIHtcbiAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgIGRhdGE6IHsgbWVzc2FnZTogJ1J1bm5pbmcgTm9kZS5qcyBDUlVEIEFQSScgfSxcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0sXG5cbiAgJy9hcGkvdXNlcnMnOiB7XG4gICAgR0VUOiB1c2VyQ29udHJvbGxlci5nZXRVc2VycyxcbiAgICBQT1NUOiAocmVxOiBSZXF1ZXN0VHlwZU5vZGUsIHJlczogUmVzcG9uc2VUeXBlTm9kZSkgPT5cbiAgICAgIHZhbGlkYXRlVXNlckRhdGEocmVxLCByZXMsIHVzZXJDb250cm9sbGVyLmNyZWF0ZVVzZXIpLFxuICB9LFxuXG4gICcvYXBpL3VzZXJzLzppZCc6IHtcbiAgICBHRVQ6IHVzZXJDb250cm9sbGVyLmdldFVzZXJCeUlkLFxuICAgIFBVVDogKHJlcTogUmVxdWVzdFR5cGVOb2RlLCByZXM6IFJlc3BvbnNlVHlwZU5vZGUpID0+XG4gICAgICB2YWxpZGF0ZVVzZXJEYXRhKHJlcSwgcmVzLCB1c2VyQ29udHJvbGxlci51cGRhdGVVc2VyKSxcbiAgICBERUxFVEU6IHVzZXJDb250cm9sbGVyLmRlbGV0ZVVzZXJCeUlkLFxuICB9LFxuXG4gIG5vdEZvdW5kOiB7XG4gICAgcmVzcDogKF9yZXE6IGh0dHAuSW5jb21pbmdNZXNzYWdlLCByZXM6IFJlc3BvbnNlVHlwZU5vZGUpID0+IHtcbiAgICAgIHJlc3BvbnNlKHJlcywge1xuICAgICAgICBzdGF0dXM6IDQwNCxcbiAgICAgICAgZGF0YTogeyBtZXNzYWdlOiAnUmVxdWVzdGVkIHJlc291cmNlIG5vdCBmb3VuZCEnIH0sXG4gICAgICB9KTtcbiAgICB9LFxuICB9LFxufTtcbiIsImltcG9ydCB7IFVzZXJzREIgfSBmcm9tICcuLi9kYi9kYic7XG5pbXBvcnQgeyBQYXJ0aWFsVXNlciwgVXNlciB9IGZyb20gJy4uL3R5cGVzJztcblxuY29uc3QgZGIgPSBuZXcgVXNlcnNEQigpO1xuXG5leHBvcnQgY29uc3QgZ2V0VXNlcnMgPSAoKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCB1c2VycyA9IGRiLnVzZXJzO1xuICAgICAgcmVzb2x2ZSh1c2Vycyk7XG4gICAgfSwgMTAwMCk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZFVzZXIgPSBhc3luYyAodXNlcjogT21pdDxVc2VyLCAnaWQnPikgPT4ge1xuICBjb25zdCBjcmVhdGVkVXNlciA9IGF3YWl0IGRiLmFkZE5ld1VzZXIodXNlcik7XG4gIHJldHVybiBjcmVhdGVkVXNlcjtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRPbmVVc2VyID0gYXN5bmMgKGlkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgY3JlYXRlZFVzZXIgPSBhd2FpdCBkYi5nZXRVc2VyQnlJZChpZCk7XG4gIHJldHVybiBjcmVhdGVkVXNlcjtcbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VyID0gYXN5bmMgKHVzZXI6IFBhcnRpYWxVc2VyKSA9PiB7XG4gIGNvbnN0IHVwZGF0ZWRVc2VyID0gYXdhaXQgZGIudXBkYXRlVXNlcih1c2VyKTtcbiAgcmV0dXJuIHVwZGF0ZWRVc2VyO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlbGV0ZVVzZXIgPSBhc3luYyAoaWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCBkZWxldGVkVXNlciA9IGF3YWl0IGRiLmRlbGV0ZVVzZXJCeUlkKGlkKTtcbiAgcmV0dXJuIGRlbGV0ZWRVc2VyO1xufTtcbiIsImltcG9ydCBodHRwIGZyb20gJ2h0dHAnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXIge1xuICBpZDogc3RyaW5nO1xuICB1c2VybmFtZTogc3RyaW5nO1xuICBhZ2U6IG51bWJlcjtcbiAgaG9iYmllczogc3RyaW5nW107XG59XG5cbi8vZXhwb3J0IHR5cGUgUGFydGlhbFVzZXIgPSBQYXJ0aWFsPFVzZXI+ICYgUmVxdWlyZWQ8UGljazxVc2VyLCAnaWQnPj47XG5leHBvcnQgdHlwZSBQYXJ0aWFsVXNlciA9IFBhcnRpYWw8VXNlcj47XG5cbmV4cG9ydCB0eXBlIFJlc3BvbnNlVHlwZU5vZGUgPSBodHRwLlNlcnZlclJlc3BvbnNlPGh0dHAuSW5jb21pbmdNZXNzYWdlPiAmIHtcbiAgcmVxOiBodHRwLkluY29taW5nTWVzc2FnZTtcbn07XG5cbmV4cG9ydCB0eXBlIFJlcXVlc3RUeXBlTm9kZSA9IHtcbiAgcGFyYW1zPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgcXVlcnk/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZD47XG59ICYgaHR0cC5JbmNvbWluZ01lc3NhZ2U7XG5cbi8vLy8gVHlwZSBHdWFyZHMgZm9yIHJ1bnRpbWVcbnR5cGUgVHlwZUd1YXJkPFQ+ID0gKHZhbDogdW5rbm93bikgPT4gVDtcblxuY29uc3Qgc3RyaW5nR3VhcmQ6IFR5cGVHdWFyZDxzdHJpbmc+ID0gKHZhbDogdW5rbm93bikgPT4ge1xuICBpZiAodHlwZW9mIHZhbCAhPT0gJ3N0cmluZycpIHRocm93IG5ldyBFcnJvcihgJHt2YWx9IGlzIG5vdCBvZiB0eXBlIHN0cmluZ2ApO1xuICByZXR1cm4gdmFsO1xufTtcblxuLy8gY29uc3Qgc3RyaW5nc0FycmF5R3VhcmQ6IFR5cGVHdWFyZDxzdHJpbmdbXT4gPSAodmFsOiB1bmtub3duKSA9PiB7XG4vLyAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkgJiYgdmFsLmV2ZXJ5KChlbCkgPT4gdHlwZW9mIGVsID09PSAnc3RyaW5nJykpXG4vLyAgICAgcmV0dXJuIHZhbDtcbi8vICAgdGhyb3cgbmV3IEVycm9yKGAke3ZhbH0gaXMgbm90IG9mIHR5cGUgc3RyaW5nIFtdYCk7XG4vLyB9O1xuXG5jb25zdCBudW1iZXJHdWFyZDogVHlwZUd1YXJkPG51bWJlcj4gPSAodmFsOiB1bmtub3duKSA9PiB7XG4gIGlmICh0eXBlb2YgdmFsICE9PSAnbnVtYmVyJykgdGhyb3cgbmV3IEVycm9yKGAke3ZhbH0gaXMgbm90IG9mIHR5cGUgbnVtYmVyYCk7XG4gIHJldHVybiB2YWw7XG59O1xuXG5jb25zdCBvYmplY3QgPSA8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIFR5cGVHdWFyZDxhbnk+Pj4oaW5uZXI6IFQpID0+IHtcbiAgcmV0dXJuICh2YWw6IHVua25vd24pOiB7IFtQIGluIGtleW9mIFRdOiBSZXR1cm5UeXBlPFRbUF0+IH0gPT4ge1xuICAgIGlmICh2YWwgPT09IG51bGwgfHwgdHlwZW9mIHZhbCAhPT0gJ29iamVjdCcpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7dmFsfSBpcyBub3QgIG9mIHR5cGUgJHt0eXBlb2YgaW5uZXJ9YCk7XG5cbiAgICBjb25zdCBvdXQ6IHsgW1AgaW4ga2V5b2YgVF06IFJldHVyblR5cGU8VFtQXT4gfSA9IHt9IGFzIGFueTtcblxuICAgIGZvciAoY29uc3QgayBpbiBpbm5lcikge1xuICAgICAgb3V0W2tdID0gaW5uZXJba10oKHZhbCBhcyBhbnkpW2tdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0O1xuICB9O1xufTtcblxuY29uc3QgYXJyYXkgPVxuICA8VD4oaW5uZXI6IFR5cGVHdWFyZDxUPikgPT5cbiAgKHZhbDogdW5rbm93bik6IFRbXSA9PiB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbCkpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7dmFsfSBpcyBub3Qgb2YgdHlwZSAke3R5cGVvZiBpbm5lcn1gKTtcbiAgICByZXR1cm4gdmFsLm1hcChpbm5lcik7XG4gIH07XG5cbmV4cG9ydCBjb25zdCBPYmplY3RVc2VyID0gb2JqZWN0KHtcbiAgaWQ6IHN0cmluZ0d1YXJkLFxuICB1c2VybmFtZTogc3RyaW5nR3VhcmQsXG4gIGFnZTogbnVtYmVyR3VhcmQsXG4gIGhvYmJpZXM6IGFycmF5KHN0cmluZ0d1YXJkKSxcbn0pO1xuXG4vLyBleHBvcnQgY29uc3QgT2JqZWN0UGFydGlhbFVzZXIgPSAodmFsOiB1bmtub3duKTogUGFydGlhbFVzZXIgPT4ge1xuLy8gICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgIT09ICdvYmplY3QnKVxuLy8gICAgIHRocm93IG5ldyBFcnJvcihgJHt2YWx9IGlzIG5vdCAgb2YgdHlwZSAke3R5cGVvZiB2YWx9YCk7XG5cbi8vICAgaWYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4vLyAgICAgY29uc3QgdXNlcktleXMgPSBbJ2lkJywgJ3VzZXJuYW1lJywgJ2FnZScsICdob2JiaWVzJ107XG4vLyAgICAgY29uc3Qgb3V0OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBzdHJpbmdbXSB8IG51bWJlcj4gPSB7fTtcbi8vICAgICBmb3IgKGNvbnN0IGsgaW4gdmFsKSB7XG4vLyAgICAgICBpZiAodXNlcktleXMuaW5jbHVkZXMoaykpIHtcbi8vICAgICAgICAgb3V0W2tdID0gdmFsW2tdO1xuLy8gICAgICAgfVxuLy8gICAgIH1cblxuLy8gICAgIHJldHVybiBvdXQ7XG4vLyAgIH1cbi8vIH07XG5cbmV4cG9ydCBjb25zdCBPYmplY3ROZXdVc2VyID0gb2JqZWN0KHtcbiAgdXNlcm5hbWU6IHN0cmluZ0d1YXJkLFxuICBhZ2U6IG51bWJlckd1YXJkLFxuICBob2JiaWVzOiBhcnJheShzdHJpbmdHdWFyZCksXG59KTtcblxuZXhwb3J0IGNvbnN0IEFycmF5T2ZVc2VycyA9IGFycmF5KE9iamVjdFVzZXIpO1xuIiwiaW1wb3J0IHsgUmVxdWVzdFR5cGVOb2RlLCBSZXNwb25zZVR5cGVOb2RlLCBVc2VyIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG50eXBlIFJlc3BvbnNlT3B0aW9ucyA9IHtcbiAgc3RhdHVzOiBudW1iZXI7XG4gIGRhdGE6IHsgbWVzc2FnZT86IHN0cmluZzsgdXNlcnM/OiBVc2VyW107IHVzZXI/OiBVc2VyIH07XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzcG9uc2UocmVzOiBSZXNwb25zZVR5cGVOb2RlLCBvcHRpb25zOiBSZXNwb25zZU9wdGlvbnMpIHtcbiAgY29uc29sZS5sb2coJ1JFU1BPTlNFIFJVTicsIG9wdGlvbnMuc3RhdHVzKTtcbiAgcmVzLnN0YXR1c0NvZGUgPSBvcHRpb25zLnN0YXR1cztcbiAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgcmVzLndyaXRlKEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuZGF0YSkpO1xuICByZXMuZW5kKCk7XG59XG5cbi8vIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgcGFyc2VkIEpTT04gZGF0YSBvZiB0aGUgcmVxdWVzdCBib2R5LlxuZXhwb3J0IGNvbnN0IGdldFBvc3RCb2R5QXN5bmMgPSAocmVxOiBSZXF1ZXN0VHlwZU5vZGUpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBsZXQgYm9keSA9ICcnO1xuXG4gICAgcmVxLm9uKCdkYXRhJywgKGNodW5rKSA9PiB7XG4gICAgICBib2R5ICs9IGNodW5rO1xuICAgIH0pO1xuXG4gICAgcmVxLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBib2R5ID0gYm9keSA/IEpTT04ucGFyc2UoYm9keSkgOiB7fTtcblxuICAgICAgICByZXNvbHZlKGJvZHkpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59O1xuXG4vLyBtb2NrIGFzeW5jIGFjdGlvblxuZXhwb3J0IGNvbnN0IHdhaXQgPSAobXM6IG51bWJlcikgPT5cbiAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcblxuLy92YWxpZGF0ZSBVVUlEXG5leHBvcnQgY29uc3QgaXNVVUlEID0gKGlkOiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIC9eWzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzAtNV1bMC05YS1mXXszfS1bMDg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9JC9pLnRlc3QoXG4gICAgaWQsXG4gICk7XG59O1xuIiwiaW1wb3J0IHsgT2JqZWN0TmV3VXNlciwgUmVxdWVzdFR5cGVOb2RlLCBSZXNwb25zZVR5cGVOb2RlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgZ2V0UG9zdEJvZHlBc3luYyB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7IHJlc3BvbnNlIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG4vLyBNaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHZhbGlkYXRlIHVzZXIgZGF0YSBpbiBhIFBPU1QgcmVxdWVzdC5cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZVVzZXJEYXRhID0gYXN5bmMgKFxuICByZXE6IFJlcXVlc3RUeXBlTm9kZSxcbiAgcmVzOiBSZXNwb25zZVR5cGVOb2RlLFxuICBuZXh0Q2FsbGJhY2s6IEZ1bmN0aW9uLFxuKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IGdldFBvc3RCb2R5QXN5bmMocmVxKTtcbiAgICBjb25zdCBtZXRob2QgPSByZXEubWV0aG9kPy50b1VwcGVyQ2FzZSgpO1xuICAgIGNvbnN0IHVzZXJLZXlzID0gWyd1c2VybmFtZScsICdhZ2UnLCAnaG9iYmllcyddO1xuICAgIGNvbnN0IGJvZHlLZXlzID0gT2JqZWN0LmtleXMoYm9keSBhcyBPYmplY3QpO1xuICAgIGlmIChcbiAgICAgIG1ldGhvZCA9PT0gJ1BVVCcgJiZcbiAgICAgIGJvZHlLZXlzLnNvbWUoKGtleSkgPT4gdXNlcktleXMuc29tZSgoaykgPT4gayA9PT0ga2V5KSlcbiAgICApIHtcbiAgICAgIG5leHRDYWxsYmFjayhyZXEsIHJlcywgYm9keSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdXNlciA9IE9iamVjdE5ld1VzZXIoYm9keSk7IC8vIHR5cGVndWFyZCBmb3IgaW5jb21pbmcgZGF0YVxuXG4gICAgbmV4dENhbGxiYWNrKHJlcSwgcmVzLCB1c2VyKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIHJlc3BvbnNlKHJlcywgeyBzdGF0dXM6IDQwMCwgZGF0YTogeyBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0gfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3BvbnNlKHJlcywge1xuICAgICAgICBzdGF0dXM6IDQwMCxcbiAgICAgICAgZGF0YTogeyBtZXNzYWdlOiAnVXNlciBkYXRhIHZhbGlkYXRpb24gZXJyb3IgLSBjaGVjayBmaWVsZHMnIH0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn07XG4iLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImNyeXB0b1wiKTsiLCJpbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0byc7XG5jb25zdCBybmRzOFBvb2wgPSBuZXcgVWludDhBcnJheSgyNTYpOyAvLyAjIG9mIHJhbmRvbSB2YWx1ZXMgdG8gcHJlLWFsbG9jYXRlXG5cbmxldCBwb29sUHRyID0gcm5kczhQb29sLmxlbmd0aDtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJuZygpIHtcbiAgaWYgKHBvb2xQdHIgPiBybmRzOFBvb2wubGVuZ3RoIC0gMTYpIHtcbiAgICBjcnlwdG8ucmFuZG9tRmlsbFN5bmMocm5kczhQb29sKTtcbiAgICBwb29sUHRyID0gMDtcbiAgfVxuXG4gIHJldHVybiBybmRzOFBvb2wuc2xpY2UocG9vbFB0ciwgcG9vbFB0ciArPSAxNik7XG59IiwiZXhwb3J0IGRlZmF1bHQgL14oPzpbMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMS01XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfXwwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDApJC9pOyIsImltcG9ydCBSRUdFWCBmcm9tICcuL3JlZ2V4LmpzJztcblxuZnVuY3Rpb24gdmFsaWRhdGUodXVpZCkge1xuICByZXR1cm4gdHlwZW9mIHV1aWQgPT09ICdzdHJpbmcnICYmIFJFR0VYLnRlc3QodXVpZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRlOyIsImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xuXG5jb25zdCBieXRlVG9IZXggPSBbXTtcblxuZm9yIChsZXQgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICBieXRlVG9IZXgucHVzaCgoaSArIDB4MTAwKS50b1N0cmluZygxNikuc2xpY2UoMSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5zYWZlU3RyaW5naWZ5KGFyciwgb2Zmc2V0ID0gMCkge1xuICAvLyBOb3RlOiBCZSBjYXJlZnVsIGVkaXRpbmcgdGhpcyBjb2RlISAgSXQncyBiZWVuIHR1bmVkIGZvciBwZXJmb3JtYW5jZVxuICAvLyBhbmQgd29ya3MgaW4gd2F5cyB5b3UgbWF5IG5vdCBleHBlY3QuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQvcHVsbC80MzRcbiAgcmV0dXJuIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgM11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDVdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA3XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDhdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxM11dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNV1dO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gIGNvbnN0IHV1aWQgPSB1bnNhZmVTdHJpbmdpZnkoYXJyLCBvZmZzZXQpOyAvLyBDb25zaXN0ZW5jeSBjaGVjayBmb3IgdmFsaWQgVVVJRC4gIElmIHRoaXMgdGhyb3dzLCBpdCdzIGxpa2VseSBkdWUgdG8gb25lXG4gIC8vIG9mIHRoZSBmb2xsb3dpbmc6XG4gIC8vIC0gT25lIG9yIG1vcmUgaW5wdXQgYXJyYXkgdmFsdWVzIGRvbid0IG1hcCB0byBhIGhleCBvY3RldCAobGVhZGluZyB0b1xuICAvLyBcInVuZGVmaW5lZFwiIGluIHRoZSB1dWlkKVxuICAvLyAtIEludmFsaWQgaW5wdXQgdmFsdWVzIGZvciB0aGUgUkZDIGB2ZXJzaW9uYCBvciBgdmFyaWFudGAgZmllbGRzXG5cbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICByZXR1cm4gdXVpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3RyaW5naWZ5OyIsImltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHsgdW5zYWZlU3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnOyAvLyAqKmB2MSgpYCAtIEdlbmVyYXRlIHRpbWUtYmFzZWQgVVVJRCoqXG4vL1xuLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL0xpb3NLL1VVSUQuanNcbi8vIGFuZCBodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvdXVpZC5odG1sXG5cbmxldCBfbm9kZUlkO1xuXG5sZXQgX2Nsb2Nrc2VxOyAvLyBQcmV2aW91cyB1dWlkIGNyZWF0aW9uIHRpbWVcblxuXG5sZXQgX2xhc3RNU2VjcyA9IDA7XG5sZXQgX2xhc3ROU2VjcyA9IDA7IC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQgZm9yIEFQSSBkZXRhaWxzXG5cbmZ1bmN0aW9uIHYxKG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIGxldCBpID0gYnVmICYmIG9mZnNldCB8fCAwO1xuICBjb25zdCBiID0gYnVmIHx8IG5ldyBBcnJheSgxNik7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsZXQgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCBfbm9kZUlkO1xuICBsZXQgY2xvY2tzZXEgPSBvcHRpb25zLmNsb2Nrc2VxICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsb2Nrc2VxIDogX2Nsb2Nrc2VxOyAvLyBub2RlIGFuZCBjbG9ja3NlcSBuZWVkIHRvIGJlIGluaXRpYWxpemVkIHRvIHJhbmRvbSB2YWx1ZXMgaWYgdGhleSdyZSBub3RcbiAgLy8gc3BlY2lmaWVkLiAgV2UgZG8gdGhpcyBsYXppbHkgdG8gbWluaW1pemUgaXNzdWVzIHJlbGF0ZWQgdG8gaW5zdWZmaWNpZW50XG4gIC8vIHN5c3RlbSBlbnRyb3B5LiAgU2VlICMxODlcblxuICBpZiAobm9kZSA9PSBudWxsIHx8IGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICBjb25zdCBzZWVkQnl0ZXMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpO1xuXG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuNSwgY3JlYXRlIGFuZCA0OC1iaXQgbm9kZSBpZCwgKDQ3IHJhbmRvbSBiaXRzICsgbXVsdGljYXN0IGJpdCA9IDEpXG4gICAgICBub2RlID0gX25vZGVJZCA9IFtzZWVkQnl0ZXNbMF0gfCAweDAxLCBzZWVkQnl0ZXNbMV0sIHNlZWRCeXRlc1syXSwgc2VlZEJ5dGVzWzNdLCBzZWVkQnl0ZXNbNF0sIHNlZWRCeXRlc1s1XV07XG4gICAgfVxuXG4gICAgaWYgKGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjIuMiwgcmFuZG9taXplICgxNCBiaXQpIGNsb2Nrc2VxXG4gICAgICBjbG9ja3NlcSA9IF9jbG9ja3NlcSA9IChzZWVkQnl0ZXNbNl0gPDwgOCB8IHNlZWRCeXRlc1s3XSkgJiAweDNmZmY7XG4gICAgfVxuICB9IC8vIFVVSUQgdGltZXN0YW1wcyBhcmUgMTAwIG5hbm8tc2Vjb25kIHVuaXRzIHNpbmNlIHRoZSBHcmVnb3JpYW4gZXBvY2gsXG4gIC8vICgxNTgyLTEwLTE1IDAwOjAwKS4gIEpTTnVtYmVycyBhcmVuJ3QgcHJlY2lzZSBlbm91Z2ggZm9yIHRoaXMsIHNvXG4gIC8vIHRpbWUgaXMgaGFuZGxlZCBpbnRlcm5hbGx5IGFzICdtc2VjcycgKGludGVnZXIgbWlsbGlzZWNvbmRzKSBhbmQgJ25zZWNzJ1xuICAvLyAoMTAwLW5hbm9zZWNvbmRzIG9mZnNldCBmcm9tIG1zZWNzKSBzaW5jZSB1bml4IGVwb2NoLCAxOTcwLTAxLTAxIDAwOjAwLlxuXG5cbiAgbGV0IG1zZWNzID0gb3B0aW9ucy5tc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tc2VjcyA6IERhdGUubm93KCk7IC8vIFBlciA0LjIuMS4yLCB1c2UgY291bnQgb2YgdXVpZCdzIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGN1cnJlbnQgY2xvY2tcbiAgLy8gY3ljbGUgdG8gc2ltdWxhdGUgaGlnaGVyIHJlc29sdXRpb24gY2xvY2tcblxuICBsZXQgbnNlY3MgPSBvcHRpb25zLm5zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5zZWNzIDogX2xhc3ROU2VjcyArIDE7IC8vIFRpbWUgc2luY2UgbGFzdCB1dWlkIGNyZWF0aW9uIChpbiBtc2VjcylcblxuICBjb25zdCBkdCA9IG1zZWNzIC0gX2xhc3RNU2VjcyArIChuc2VjcyAtIF9sYXN0TlNlY3MpIC8gMTAwMDA7IC8vIFBlciA0LjIuMS4yLCBCdW1wIGNsb2Nrc2VxIG9uIGNsb2NrIHJlZ3Jlc3Npb25cblxuICBpZiAoZHQgPCAwICYmIG9wdGlvbnMuY2xvY2tzZXEgPT09IHVuZGVmaW5lZCkge1xuICAgIGNsb2Nrc2VxID0gY2xvY2tzZXEgKyAxICYgMHgzZmZmO1xuICB9IC8vIFJlc2V0IG5zZWNzIGlmIGNsb2NrIHJlZ3Jlc3NlcyAobmV3IGNsb2Nrc2VxKSBvciB3ZSd2ZSBtb3ZlZCBvbnRvIGEgbmV3XG4gIC8vIHRpbWUgaW50ZXJ2YWxcblxuXG4gIGlmICgoZHQgPCAwIHx8IG1zZWNzID4gX2xhc3RNU2VjcykgJiYgb3B0aW9ucy5uc2VjcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbnNlY3MgPSAwO1xuICB9IC8vIFBlciA0LjIuMS4yIFRocm93IGVycm9yIGlmIHRvbyBtYW55IHV1aWRzIGFyZSByZXF1ZXN0ZWRcblxuXG4gIGlmIChuc2VjcyA+PSAxMDAwMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInV1aWQudjEoKTogQ2FuJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjXCIpO1xuICB9XG5cbiAgX2xhc3RNU2VjcyA9IG1zZWNzO1xuICBfbGFzdE5TZWNzID0gbnNlY3M7XG4gIF9jbG9ja3NlcSA9IGNsb2Nrc2VxOyAvLyBQZXIgNC4xLjQgLSBDb252ZXJ0IGZyb20gdW5peCBlcG9jaCB0byBHcmVnb3JpYW4gZXBvY2hcblxuICBtc2VjcyArPSAxMjIxOTI5MjgwMDAwMDsgLy8gYHRpbWVfbG93YFxuXG4gIGNvbnN0IHRsID0gKChtc2VjcyAmIDB4ZmZmZmZmZikgKiAxMDAwMCArIG5zZWNzKSAlIDB4MTAwMDAwMDAwO1xuICBiW2krK10gPSB0bCA+Pj4gMjQgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gMTYgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsICYgMHhmZjsgLy8gYHRpbWVfbWlkYFxuXG4gIGNvbnN0IHRtaCA9IG1zZWNzIC8gMHgxMDAwMDAwMDAgKiAxMDAwMCAmIDB4ZmZmZmZmZjtcbiAgYltpKytdID0gdG1oID4+PiA4ICYgMHhmZjtcbiAgYltpKytdID0gdG1oICYgMHhmZjsgLy8gYHRpbWVfaGlnaF9hbmRfdmVyc2lvbmBcblxuICBiW2krK10gPSB0bWggPj4+IDI0ICYgMHhmIHwgMHgxMDsgLy8gaW5jbHVkZSB2ZXJzaW9uXG5cbiAgYltpKytdID0gdG1oID4+PiAxNiAmIDB4ZmY7IC8vIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYCAoUGVyIDQuMi4yIC0gaW5jbHVkZSB2YXJpYW50KVxuXG4gIGJbaSsrXSA9IGNsb2Nrc2VxID4+PiA4IHwgMHg4MDsgLy8gYGNsb2NrX3NlcV9sb3dgXG5cbiAgYltpKytdID0gY2xvY2tzZXEgJiAweGZmOyAvLyBgbm9kZWBcblxuICBmb3IgKGxldCBuID0gMDsgbiA8IDY7ICsrbikge1xuICAgIGJbaSArIG5dID0gbm9kZVtuXTtcbiAgfVxuXG4gIHJldHVybiBidWYgfHwgdW5zYWZlU3RyaW5naWZ5KGIpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2MTsiLCJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG5cbmZ1bmN0aW9uIHBhcnNlKHV1aWQpIHtcbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignSW52YWxpZCBVVUlEJyk7XG4gIH1cblxuICBsZXQgdjtcbiAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMTYpOyAvLyBQYXJzZSAjIyMjIyMjIy0uLi4uLS4uLi4tLi4uLi0uLi4uLi4uLi4uLi5cblxuICBhcnJbMF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMCwgOCksIDE2KSkgPj4+IDI0O1xuICBhcnJbMV0gPSB2ID4+PiAxNiAmIDB4ZmY7XG4gIGFyclsyXSA9IHYgPj4+IDggJiAweGZmO1xuICBhcnJbM10gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tIyMjIy0uLi4uLS4uLi4tLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzRdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDksIDEzKSwgMTYpKSA+Pj4gODtcbiAgYXJyWzVdID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLS4uLi4tIyMjIy0uLi4uLS4uLi4uLi4uLi4uLlxuXG4gIGFycls2XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgxNCwgMTgpLCAxNikpID4+PiA4O1xuICBhcnJbN10gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tLi4uLi0uLi4uLSMjIyMtLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzhdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDE5LCAyMyksIDE2KSkgPj4+IDg7XG4gIGFycls5XSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0uLi4uLS4uLi4tLi4uLi0jIyMjIyMjIyMjIyNcbiAgLy8gKFVzZSBcIi9cIiB0byBhdm9pZCAzMi1iaXQgdHJ1bmNhdGlvbiB3aGVuIGJpdC1zaGlmdGluZyBoaWdoLW9yZGVyIGJ5dGVzKVxuXG4gIGFyclsxMF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMjQsIDM2KSwgMTYpKSAvIDB4MTAwMDAwMDAwMDAgJiAweGZmO1xuICBhcnJbMTFdID0gdiAvIDB4MTAwMDAwMDAwICYgMHhmZjtcbiAgYXJyWzEyXSA9IHYgPj4+IDI0ICYgMHhmZjtcbiAgYXJyWzEzXSA9IHYgPj4+IDE2ICYgMHhmZjtcbiAgYXJyWzE0XSA9IHYgPj4+IDggJiAweGZmO1xuICBhcnJbMTVdID0gdiAmIDB4ZmY7XG4gIHJldHVybiBhcnI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBhcnNlOyIsImltcG9ydCB7IHVuc2FmZVN0cmluZ2lmeSB9IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcbmltcG9ydCBwYXJzZSBmcm9tICcuL3BhcnNlLmpzJztcblxuZnVuY3Rpb24gc3RyaW5nVG9CeXRlcyhzdHIpIHtcbiAgc3RyID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpOyAvLyBVVEY4IGVzY2FwZVxuXG4gIGNvbnN0IGJ5dGVzID0gW107XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICBieXRlcy5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpKTtcbiAgfVxuXG4gIHJldHVybiBieXRlcztcbn1cblxuZXhwb3J0IGNvbnN0IEROUyA9ICc2YmE3YjgxMC05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnO1xuZXhwb3J0IGNvbnN0IFVSTCA9ICc2YmE3YjgxMS05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdjM1KG5hbWUsIHZlcnNpb24sIGhhc2hmdW5jKSB7XG4gIGZ1bmN0aW9uIGdlbmVyYXRlVVVJRCh2YWx1ZSwgbmFtZXNwYWNlLCBidWYsIG9mZnNldCkge1xuICAgIHZhciBfbmFtZXNwYWNlO1xuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gc3RyaW5nVG9CeXRlcyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuYW1lc3BhY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICBuYW1lc3BhY2UgPSBwYXJzZShuYW1lc3BhY2UpO1xuICAgIH1cblxuICAgIGlmICgoKF9uYW1lc3BhY2UgPSBuYW1lc3BhY2UpID09PSBudWxsIHx8IF9uYW1lc3BhY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9uYW1lc3BhY2UubGVuZ3RoKSAhPT0gMTYpIHtcbiAgICAgIHRocm93IFR5cGVFcnJvcignTmFtZXNwYWNlIG11c3QgYmUgYXJyYXktbGlrZSAoMTYgaXRlcmFibGUgaW50ZWdlciB2YWx1ZXMsIDAtMjU1KScpO1xuICAgIH0gLy8gQ29tcHV0ZSBoYXNoIG9mIG5hbWVzcGFjZSBhbmQgdmFsdWUsIFBlciA0LjNcbiAgICAvLyBGdXR1cmU6IFVzZSBzcHJlYWQgc3ludGF4IHdoZW4gc3VwcG9ydGVkIG9uIGFsbCBwbGF0Zm9ybXMsIGUuZy4gYGJ5dGVzID1cbiAgICAvLyBoYXNoZnVuYyhbLi4ubmFtZXNwYWNlLCAuLi4gdmFsdWVdKWBcblxuXG4gICAgbGV0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoMTYgKyB2YWx1ZS5sZW5ndGgpO1xuICAgIGJ5dGVzLnNldChuYW1lc3BhY2UpO1xuICAgIGJ5dGVzLnNldCh2YWx1ZSwgbmFtZXNwYWNlLmxlbmd0aCk7XG4gICAgYnl0ZXMgPSBoYXNoZnVuYyhieXRlcyk7XG4gICAgYnl0ZXNbNl0gPSBieXRlc1s2XSAmIDB4MGYgfCB2ZXJzaW9uO1xuICAgIGJ5dGVzWzhdID0gYnl0ZXNbOF0gJiAweDNmIHwgMHg4MDtcblxuICAgIGlmIChidWYpIHtcbiAgICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgICAgYnVmW29mZnNldCArIGldID0gYnl0ZXNbaV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBidWY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuc2FmZVN0cmluZ2lmeShieXRlcyk7XG4gIH0gLy8gRnVuY3Rpb24jbmFtZSBpcyBub3Qgc2V0dGFibGUgb24gc29tZSBwbGF0Zm9ybXMgKCMyNzApXG5cblxuICB0cnkge1xuICAgIGdlbmVyYXRlVVVJRC5uYW1lID0gbmFtZTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gIH0gY2F0Y2ggKGVycikge30gLy8gRm9yIENvbW1vbkpTIGRlZmF1bHQgZXhwb3J0IHN1cHBvcnRcblxuXG4gIGdlbmVyYXRlVVVJRC5ETlMgPSBETlM7XG4gIGdlbmVyYXRlVVVJRC5VUkwgPSBVUkw7XG4gIHJldHVybiBnZW5lcmF0ZVVVSUQ7XG59IiwiaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nO1xuXG5mdW5jdGlvbiBtZDUoYnl0ZXMpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYnl0ZXMpKSB7XG4gICAgYnl0ZXMgPSBCdWZmZXIuZnJvbShieXRlcyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykge1xuICAgIGJ5dGVzID0gQnVmZmVyLmZyb20oYnl0ZXMsICd1dGY4Jyk7XG4gIH1cblxuICByZXR1cm4gY3J5cHRvLmNyZWF0ZUhhc2goJ21kNScpLnVwZGF0ZShieXRlcykuZGlnZXN0KCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1kNTsiLCJpbXBvcnQgdjM1IGZyb20gJy4vdjM1LmpzJztcbmltcG9ydCBtZDUgZnJvbSAnLi9tZDUuanMnO1xuY29uc3QgdjMgPSB2MzUoJ3YzJywgMHgzMCwgbWQ1KTtcbmV4cG9ydCBkZWZhdWx0IHYzOyIsImltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmFuZG9tVVVJRDogY3J5cHRvLnJhbmRvbVVVSURcbn07IiwiaW1wb3J0IG5hdGl2ZSBmcm9tICcuL25hdGl2ZS5qcyc7XG5pbXBvcnQgcm5nIGZyb20gJy4vcm5nLmpzJztcbmltcG9ydCB7IHVuc2FmZVN0cmluZ2lmeSB9IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgaWYgKG5hdGl2ZS5yYW5kb21VVUlEICYmICFidWYgJiYgIW9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmF0aXZlLnJhbmRvbVVVSUQoKTtcbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTsgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuXG4gIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gIHJuZHNbOF0gPSBybmRzWzhdICYgMHgzZiB8IDB4ODA7IC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuXG4gIGlmIChidWYpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgYnVmW29mZnNldCArIGldID0gcm5kc1tpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVmO1xuICB9XG5cbiAgcmV0dXJuIHVuc2FmZVN0cmluZ2lmeShybmRzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjQ7IiwiaW1wb3J0IHYzNSBmcm9tICcuL3YzNS5qcyc7XG5pbXBvcnQgc2hhMSBmcm9tICcuL3NoYTEuanMnO1xuY29uc3QgdjUgPSB2MzUoJ3Y1JywgMHg1MCwgc2hhMSk7XG5leHBvcnQgZGVmYXVsdCB2NTsiLCJpbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0byc7XG5cbmZ1bmN0aW9uIHNoYTEoYnl0ZXMpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYnl0ZXMpKSB7XG4gICAgYnl0ZXMgPSBCdWZmZXIuZnJvbShieXRlcyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykge1xuICAgIGJ5dGVzID0gQnVmZmVyLmZyb20oYnl0ZXMsICd1dGY4Jyk7XG4gIH1cblxuICByZXR1cm4gY3J5cHRvLmNyZWF0ZUhhc2goJ3NoYTEnKS51cGRhdGUoYnl0ZXMpLmRpZ2VzdCgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzaGExOyIsImV4cG9ydCBkZWZhdWx0ICcwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAnOyIsImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcblxuZnVuY3Rpb24gdmVyc2lvbih1dWlkKSB7XG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ0ludmFsaWQgVVVJRCcpO1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlSW50KHV1aWQuc2xpY2UoMTQsIDE1KSwgMTYpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2ZXJzaW9uOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImh0dHBcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidXJsXCIpOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNzIwKTtcbiJdLCJuYW1lcyI6WyJUSU1FT1VUX21zIiwiZ2V0VXNlcnMiLCJhc3luYyIsInJlcSIsInJlcyIsInVzZXJzIiwiQXJyYXlPZlVzZXJzIiwidXNlclNlcnZpY2UiLCJyZXNwb25zZSIsInN0YXR1cyIsImRhdGEiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJjcmVhdGVVc2VyIiwidXNlciIsImNyZWF0ZWRVc2VyIiwiYWRkVXNlciIsIm1lc3NhZ2UiLCJnZXRVc2VyQnlJZCIsInVzZXJJZCIsInBhcmFtcyIsImlkIiwiaXNVVUlEIiwiZ2V0T25lVXNlciIsInVwZGF0ZVVzZXIiLCJ1cGRhdGVkVXNlciIsImRlbGV0ZVVzZXJCeUlkIiwiZGVsZXRlVXNlciIsImluaXRpYWxVc2VyIiwidXNlcm5hbWUiLCJhZ2UiLCJob2JiaWVzIiwiVXNlcnNEQiIsImNvbnN0cnVjdG9yIiwiX2luc3RhbmNlIiwidGhpcyIsInVzZXJzRGF0YSIsImdldEluc3RhbmNlIiwidmFsdWUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInNldFRpbWVvdXQiLCJPYmplY3RVc2VyIiwiZmluZCIsImFkZE5ld1VzZXIiLCJmaW5kSW5kZXgiLCJFcnJvciIsIm5ld1VzZXIiLCJwdXNoIiwidXNlckRhdGEiLCJleGlzdGluZ1VzZXIiLCJ1IiwibWFwIiwiZmlsdGVyIiwiUE9SVCIsInByb2Nlc3MiLCJlbnYiLCJzZXJ2ZXIiLCJjcmVhdGVTZXJ2ZXIiLCJwYXJzZWRVcmwiLCJwYXJzZSIsInVybCIsInF1ZXJ5IiwicGF0aCIsInBhdGhuYW1lIiwibWV0aG9kIiwidG9VcHBlckNhc2UiLCJoYW5kbGVyIiwicm91dGVzIiwiX3JlcSIsIm1hdGNoZWRLZXkiLCJPYmplY3QiLCJrZXlzIiwia2V5IiwiaW5jbHVkZXMiLCJyZWdleCIsIlJlZ0V4cCIsInJlcGxhY2UiLCJ0ZXN0IiwiZHluYW1pY1BhcmFtcyIsImV4ZWMiLCJzbGljZSIsInBhcmFtS2V5cyIsIm1hdGNoIiwic3Vic3RyaW5nIiwicmVkdWNlIiwiYWNjIiwidmFsIiwiaSIsIm5vdEZvdW5kIiwicmVzcCIsIm9uIiwibG9nZ2VyTWlkZGxld2FyZSIsImxpc3RlbiIsIkdFVCIsInVzZXJDb250cm9sbGVyIiwiUE9TVCIsInZhbGlkYXRlVXNlckRhdGEiLCJQVVQiLCJERUxFVEUiLCJkYiIsInN0cmluZ0d1YXJkIiwibnVtYmVyR3VhcmQiLCJvYmplY3QiLCJpbm5lciIsIm91dCIsImsiLCJhcnJheSIsIkFycmF5IiwiaXNBcnJheSIsIk9iamVjdE5ld1VzZXIiLCJvcHRpb25zIiwic3RhdHVzQ29kZSIsInNldEhlYWRlciIsIndyaXRlIiwiSlNPTiIsInN0cmluZ2lmeSIsImVuZCIsImdldFBvc3RCb2R5QXN5bmMiLCJib2R5IiwiY2h1bmsiLCJ3YWl0IiwibXMiLCJuZXh0Q2FsbGJhY2siLCJ1c2VyS2V5cyIsImJvZHlLZXlzIiwic29tZSIsInJlcXVpcmUiLCJybmRzOFBvb2wiLCJVaW50OEFycmF5IiwicG9vbFB0ciIsImxlbmd0aCIsInJuZyIsInV1aWQiLCJieXRlVG9IZXgiLCJ0b1N0cmluZyIsInVuc2FmZVN0cmluZ2lmeSIsImFyciIsIm9mZnNldCIsIlR5cGVFcnJvciIsIl9ub2RlSWQiLCJfY2xvY2tzZXEiLCJfbGFzdE1TZWNzIiwiX2xhc3ROU2VjcyIsImJ1ZiIsImIiLCJub2RlIiwiY2xvY2tzZXEiLCJ1bmRlZmluZWQiLCJzZWVkQnl0ZXMiLCJyYW5kb20iLCJtc2VjcyIsIkRhdGUiLCJub3ciLCJuc2VjcyIsImR0IiwidGwiLCJ0bWgiLCJuIiwidiIsInBhcnNlSW50IiwidjM1IiwibmFtZSIsInZlcnNpb24iLCJoYXNoZnVuYyIsImdlbmVyYXRlVVVJRCIsIm5hbWVzcGFjZSIsIl9uYW1lc3BhY2UiLCJzdHIiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImJ5dGVzIiwiY2hhckNvZGVBdCIsInN0cmluZ1RvQnl0ZXMiLCJzZXQiLCJlcnIiLCJETlMiLCJVUkwiLCJCdWZmZXIiLCJmcm9tIiwidXBkYXRlIiwiZGlnZXN0IiwicmFuZG9tVVVJRCIsInJuZHMiLCJtb2R1bGUiLCJleHBvcnRzIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyJdLCJzb3VyY2VSb290IjoiIn0=